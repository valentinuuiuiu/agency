/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/chat/route";
exports.ids = ["app/api/chat/route"];
exports.modules = {

/***/ "(rsc)/./app/api/chat/route.ts":
/*!*******************************!*\
  !*** ./app/api/chat/route.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/.pnpm/next@15.5.4_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_ai_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/ai-service */ \"(rsc)/./lib/ai-service.ts\");\n\n\nasync function POST(request) {\n    try {\n        const { prompt } = await request.json();\n        if (!prompt) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Prompt is required'\n            }, {\n                status: 400\n            });\n        }\n        const aiService = _lib_ai_service__WEBPACK_IMPORTED_MODULE_1__.AIService.getInstance();\n        const aiResponse = await aiService.generateResponse(prompt);\n        if (aiResponse.success) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                content: aiResponse.content\n            });\n        } else {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: aiResponse.error || 'AI service error'\n            }, {\n                status: 500\n            });\n        }\n    } catch (error) {\n        console.error('Chat API error:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Internal server error'\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2NoYXQvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXVEO0FBQ1g7QUFFckMsZUFBZUUsS0FBS0MsT0FBb0I7SUFDN0MsSUFBSTtRQUNGLE1BQU0sRUFBRUMsTUFBTSxFQUFFLEdBQUcsTUFBTUQsUUFBUUUsSUFBSTtRQUVyQyxJQUFJLENBQUNELFFBQVE7WUFDWCxPQUFPSixxREFBWUEsQ0FBQ0ssSUFBSSxDQUFDO2dCQUFFQyxPQUFPO1lBQXFCLEdBQUc7Z0JBQUVDLFFBQVE7WUFBSTtRQUMxRTtRQUVBLE1BQU1DLFlBQVlQLHNEQUFTQSxDQUFDUSxXQUFXO1FBQ3ZDLE1BQU1DLGFBQWEsTUFBTUYsVUFBVUcsZ0JBQWdCLENBQUNQO1FBRXBELElBQUlNLFdBQVdFLE9BQU8sRUFBRTtZQUN0QixPQUFPWixxREFBWUEsQ0FBQ0ssSUFBSSxDQUFDO2dCQUFFUSxTQUFTSCxXQUFXRyxPQUFPO1lBQUM7UUFDekQsT0FBTztZQUNMLE9BQU9iLHFEQUFZQSxDQUFDSyxJQUFJLENBQUM7Z0JBQUVDLE9BQU9JLFdBQVdKLEtBQUssSUFBSTtZQUFtQixHQUFHO2dCQUFFQyxRQUFRO1lBQUk7UUFDNUY7SUFDRixFQUFFLE9BQU9ELE9BQU87UUFDZFEsUUFBUVIsS0FBSyxDQUFDLG1CQUFtQkE7UUFDakMsT0FBT04scURBQVlBLENBQUNLLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQXdCLEdBQUc7WUFBRUMsUUFBUTtRQUFJO0lBQzdFO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL3NoaXZhL0RvY3VtZW50cy9yb21hbmlhbl9kYW5pc2hfam9icy9hcHAvYXBpL2NoYXQvcm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xuaW1wb3J0IHsgQUlTZXJ2aWNlIH0gZnJvbSAnQC9saWIvYWktc2VydmljZSdcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IHByb21wdCB9ID0gYXdhaXQgcmVxdWVzdC5qc29uKClcblxuICAgIGlmICghcHJvbXB0KSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1Byb21wdCBpcyByZXF1aXJlZCcgfSwgeyBzdGF0dXM6IDQwMCB9KVxuICAgIH1cblxuICAgIGNvbnN0IGFpU2VydmljZSA9IEFJU2VydmljZS5nZXRJbnN0YW5jZSgpXG4gICAgY29uc3QgYWlSZXNwb25zZSA9IGF3YWl0IGFpU2VydmljZS5nZW5lcmF0ZVJlc3BvbnNlKHByb21wdClcblxuICAgIGlmIChhaVJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGNvbnRlbnQ6IGFpUmVzcG9uc2UuY29udGVudCB9KVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogYWlSZXNwb25zZS5lcnJvciB8fCAnQUkgc2VydmljZSBlcnJvcicgfSwgeyBzdGF0dXM6IDUwMCB9KVxuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdDaGF0IEFQSSBlcnJvcjonLCBlcnJvcilcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSwgeyBzdGF0dXM6IDUwMCB9KVxuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiQUlTZXJ2aWNlIiwiUE9TVCIsInJlcXVlc3QiLCJwcm9tcHQiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJhaVNlcnZpY2UiLCJnZXRJbnN0YW5jZSIsImFpUmVzcG9uc2UiLCJnZW5lcmF0ZVJlc3BvbnNlIiwic3VjY2VzcyIsImNvbnRlbnQiLCJjb25zb2xlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/chat/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/ai-service.ts":
/*!***************************!*\
  !*** ./lib/ai-service.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AIService: () => (/* binding */ AIService)\n/* harmony export */ });\nclass AIService {\n    constructor(){\n        // European countries data for matching\n        this.europeanMarkets = {\n            denmark: {\n                currency: 'DKK',\n                workingHours: 37,\n                minWage: 110,\n                vacationDays: 25,\n                visaRequired: false,\n                languageImportance: 'high'\n            },\n            germany: {\n                currency: 'EUR',\n                workingHours: 40,\n                minWage: 12,\n                vacationDays: 25,\n                visaRequired: false,\n                languageImportance: 'medium'\n            },\n            netherlands: {\n                currency: 'EUR',\n                workingHours: 40,\n                minWage: 9.33,\n                vacationDays: 25,\n                visaRequired: false,\n                languageImportance: 'medium'\n            },\n            france: {\n                currency: 'EUR',\n                workingHours: 35,\n                minWage: 11.65,\n                vacationDays: 25,\n                visaRequired: false,\n                languageImportance: 'medium'\n            }\n        };\n        // All job industries offered by the agency\n        this.jobIndustries = {\n            agriculture: {\n                name: 'Agriculture & Farming',\n                specialties: [\n                    'crop farming',\n                    'livestock',\n                    'greenhouse',\n                    'horticulture',\n                    'poultry'\n                ],\n                skills: [\n                    'tractor operation',\n                    'machinery repair',\n                    'crop management'\n                ],\n                salaryRange: {\n                    min: 2000,\n                    max: 3500,\n                    currency: 'EUR'\n                }\n            },\n            construction: {\n                name: 'Construction & Building',\n                specialties: [\n                    'general labor',\n                    'skilled trades',\n                    'project management',\n                    'steel work',\n                    'concrete'\n                ],\n                skills: [\n                    'heavy machinery',\n                    'welding',\n                    'electrical',\n                    'plumbing',\n                    'carpentry'\n                ],\n                salaryRange: {\n                    min: 2200,\n                    max: 4500,\n                    currency: 'EUR'\n                }\n            },\n            manufacturing: {\n                name: 'Manufacturing & Industry',\n                specialties: [\n                    'assembly line',\n                    'quality control',\n                    'machine operation',\n                    'packaging',\n                    'maintenance'\n                ],\n                skills: [\n                    'production',\n                    'safety procedures',\n                    'inventory management'\n                ],\n                salaryRange: {\n                    min: 1800,\n                    max: 3800,\n                    currency: 'EUR'\n                }\n            },\n            logistics: {\n                name: 'Logistics & Warehousing',\n                specialties: [\n                    'warehouse work',\n                    'forklift operation',\n                    'inventory',\n                    'order picking',\n                    'shipping'\n                ],\n                skills: [\n                    'warehouse management',\n                    'inventory software',\n                    'safety regulations'\n                ],\n                salaryRange: {\n                    min: 1600,\n                    max: 3200,\n                    currency: 'EUR'\n                }\n            },\n            it: {\n                name: 'IT & Technology',\n                specialties: [\n                    'software development',\n                    'IT support',\n                    'data entry',\n                    'system administration',\n                    'networking'\n                ],\n                skills: [\n                    'programming languages',\n                    'database management',\n                    'IT security',\n                    'troubleshooting'\n                ],\n                salaryRange: {\n                    min: 2500,\n                    max: 5500,\n                    currency: 'EUR'\n                }\n            },\n            hospitality: {\n                name: 'Hospitality & Services',\n                specialties: [\n                    'hotel work',\n                    'restaurant service',\n                    'cleaning',\n                    'housekeeping',\n                    'tourism'\n                ],\n                skills: [\n                    'customer service',\n                    'languages',\n                    'food safety'\n                ],\n                salaryRange: {\n                    min: 1400,\n                    max: 2800,\n                    currency: 'EUR'\n                }\n            },\n            healthcare: {\n                name: 'Healthcare & Care',\n                specialties: [\n                    'elder care',\n                    'medical assistance',\n                    'pharmacy',\n                    'therapy support',\n                    'cleaning'\n                ],\n                skills: [\n                    'patient care',\n                    'medical procedures',\n                    'hygiene standards'\n                ],\n                salaryRange: {\n                    min: 1800,\n                    max: 3600,\n                    currency: 'EUR'\n                }\n            },\n            retail: {\n                name: 'Retail & Sales',\n                specialties: [\n                    'store work',\n                    'customer service',\n                    'stock management',\n                    'cashier',\n                    'sales'\n                ],\n                skills: [\n                    'customer interaction',\n                    'cash handling',\n                    'product knowledge'\n                ],\n                salaryRange: {\n                    min: 1300,\n                    max: 2600,\n                    currency: 'EUR'\n                }\n            },\n            transportation: {\n                name: 'Transportation & Driving',\n                specialties: [\n                    'truck driving',\n                    'bus driving',\n                    'delivery',\n                    'warehouse transport',\n                    'logistics'\n                ],\n                skills: [\n                    'driving licenses',\n                    'route planning',\n                    'safety protocols'\n                ],\n                salaryRange: {\n                    min: 2000,\n                    max: 4000,\n                    currency: 'EUR'\n                }\n            },\n            forestry: {\n                name: 'Forestry & Environment',\n                specialties: [\n                    'tree felling',\n                    'forest management',\n                    'park maintenance',\n                    'reforestation',\n                    'equipment operation'\n                ],\n                skills: [\n                    'chainsaw operation',\n                    'safety equipment',\n                    'environmental regulations'\n                ],\n                salaryRange: {\n                    min: 2300,\n                    max: 4200,\n                    currency: 'EUR'\n                }\n            }\n        };\n        this.apiKey = process.env.OPENROUTER_API_KEY || '';\n        this.model = process.env.OPENROUTER_MODEL || 'google/gemini-2.5-flash-lite';\n    }\n    static getInstance() {\n        if (!AIService.instance) {\n            AIService.instance = new AIService();\n        }\n        return AIService.instance;\n    }\n    async generateResponse(prompt) {\n        try {\n            const response = await fetch('https://openrouter.ai/api/v1/chat/completions', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${this.apiKey}`,\n                    'HTTP-Referer': 'https://danemarca-jobs.ro',\n                    'X-Title': 'Multi-Country EU Jobs Marketplace Agency'\n                },\n                body: JSON.stringify({\n                    model: this.model,\n                    messages: [\n                        {\n                            role: \"system\",\n                            content: `You are the virtual assistant for Europe's leading multi-industry recruitment platform, connecting Romanian professionals with premium opportunities across Construction, Healthcare, IT, Manufacturing, Logistics, Hospitality, and more.\n\n              Platform Overview:\n              - Multi-country EU job marketplace for Romanian citizens\n              - 5 key destinations: Denmark, Germany, Netherlands, France, and broader EU\n              - All industries: Construction, Healthcare, IT, Manufacturing, Logistics, Hospitality, Agriculture, Forestry, Transportation, Retail, and more\n              - AI-powered matching with 0-100 compatibility scores\n              - 15% agency commission with guaranteed placements\n              - Full relocation support (flights, housing, transport, registration)\n\n              Key Services:\n              1. **For Candidates**: CV evaluation, job matching, application tracking, relocation guidance\n              2. **For Agencies**: Lead generation, client management, revenue analytics, AI-powered tools\n              3. **For Employers**: Romanian talent acquisition, compliance support, cost-effective recruitment\n\n              Industries We Serve:\n              - Construction & Engineering (Denmark, Germany, Netherlands, France)\n              - Healthcare & Medical (Germany, Netherlands, France)\n              - IT & Technology (All countries, especially Netherlands and Germany)\n              - Manufacturing & Industry (Germany, Denmark)\n              - Logistics & Transportation (Netherlands, Germany)\n              - Hospitality & Services (France, Netherlands)\n              - Agriculture & Forestry (Denmark, Netherlands)\n\n              Salary Ranges (Monthly Gross):\n              - Construction: €2,800-€4,500\n              - Healthcare: €2,500-€4,000\n              - IT: €3,000-€6,000\n              - Manufacturing: €2,200-€3,800\n              - Logistics: €2,000-€3,500\n\n              EU Benefits:\n              - No work visas required for Romanians\n              - 25+ days annual leave\n              - Health insurance included\n              - Unemployment benefits\n              - Maternity/paternity leave (52 weeks)\n\n              Primary language: Romanian. Respond professionally and helpfully. Direct users to relevant sections and emphasize our multi-industry expertise and guaranteed placement success.`\n                        },\n                        {\n                            role: \"user\",\n                            content: prompt\n                        }\n                    ],\n                    max_tokens: 1000,\n                    temperature: 0.7\n                })\n            });\n            if (!response.ok) {\n                throw new Error(`OpenRouter API error: ${response.status} ${response.statusText}`);\n            }\n            const data = await response.json();\n            const content = data.choices?.[0]?.message?.content;\n            if (!content) {\n                throw new Error('No response content received');\n            }\n            return {\n                content: content,\n                success: true\n            };\n        } catch (error) {\n            console.error('AI Service Error:', error);\n            // Fallback to local responses if API fails\n            const fallbackResponse = this.generateFallbackResponse(prompt);\n            return {\n                content: fallbackResponse,\n                success: false,\n                error: error instanceof Error ? error.message : 'Unknown error'\n            };\n        }\n    }\n    generateFallbackResponse(message) {\n        const lowerMessage = message.toLowerCase();\n        if (lowerMessage.includes('cv') || lowerMessage.includes('evaluare') || lowerMessage.includes('resume')) {\n            return \"Pentru evaluarea CV-ului tău cu AI, accesează secțiunea 'Evaluare CV'. Analizăm automat compatibilitatea cu joburi din Construction, Healthcare, IT, Manufacturing, Logistics și Hospitality în Danemarca, Germania, Olanda, Franța. Oferim scor 0-100 și sugestii personalizate pentru toate industriile.\";\n        }\n        if (lowerMessage.includes('danemarca') || lowerMessage.includes('germania') || lowerMessage.includes('olanda') || lowerMessage.includes('franta') || lowerMessage.includes('europa')) {\n            return \"Găsești ghiduri complete în secțiunea 'Ghid Europa' pentru toate țările: Construction și Healthcare în Germania, IT și Logistics în Olanda, Manufacturing în Danemarca, Hospitality în Franța. Salarii competitive, suport relocare complet, fără vize pentru români.\";\n        }\n        if (lowerMessage.includes('locuri') || lowerMessage.includes('muncă') || lowerMessage.includes('job') || lowerMessage.includes('oportunități')) {\n            return \"Platforma noastră oferă joburi verificate în toate industriile: Construction (€2,800-€4,500), Healthcare (€2,500-€4,000), IT (€3,000-€6,000), Manufacturing (€2,200-€3,800), Logistics (€2,000-€3,500). Toate cu contracte UE-compliant și suport complet.\";\n        }\n        if (lowerMessage.includes('salariu') || lowerMessage.includes('bani') || lowerMessage.includes('plata') || lowerMessage.includes('salaries')) {\n            return \"Salariile competitive în toate industriile: Construction €2,800-4,500/lună, Healthcare €2,500-4,000, IT €3,000-6,000, Manufacturing €2,200-3,800, Logistics €2,000-3,500. Plus beneficii: 25+ zile vacanță, asigurare medicală, bonusuri performanță.\";\n        }\n        if (lowerMessage.includes('construcții') || lowerMessage.includes('construction') || lowerMessage.includes('building')) {\n            return \"Specialiști în construcții la mare căutare în Danemarca, Germania, Olanda, Franța. Salarii €2,800-4,500/lună + cazare + transport. Experiență în zidărie, sudură, instalații sanitare, electricitate foarte apreciată. Plasamente rapide garantate.\";\n        }\n        if (lowerMessage.includes('healthcare') || lowerMessage.includes('medical') || lowerMessage.includes('îngrijire') || lowerMessage.includes('sănătate')) {\n            return \"Oportunități excelente în domeniul sanitar: Germania și Franța oferă €2,500-4,000/lună pentru asistente medicale, îngrijitoare, farmaciști. Cerere mare, contracte stabile, training inclus. Suport pentru recunoașterea diplomelor.\";\n        }\n        if (lowerMessage.includes('it') || lowerMessage.includes('tech') || lowerMessage.includes('programare') || lowerMessage.includes('software')) {\n            return \"Sectorul IT în plină expansiune: Olanda și Germania oferă €3,000-6,000/lună pentru developeri, support IT, administratori sistem. Cerințe: engleză fluentă, experiență relevantă. Multe companii tech internaționale recrutează activ.\";\n        }\n        if (lowerMessage.includes('logistics') || lowerMessage.includes('transport') || lowerMessage.includes('warehouse')) {\n            return \"Logistică și transport: Olanda și Germania oferă €2,000-3,500/lună pentru șoferi, manipulanți marfă, coordonatori depozit. Permis conducere categoria B/C, engleză de bază. Program stabil, beneficii complete.\";\n        }\n        if (lowerMessage.includes('manufacturing') || lowerMessage.includes('producție') || lowerMessage.includes('fabrică')) {\n            return \"Industria manufacturing: Germania și Danemarca oferă €2,200-3,800/lună pentru operatori producție, controlori calitate, tehnicieni mentenanță. Experiență în producție un avantaj major. Contracte pe termen lung.\";\n        }\n        if (lowerMessage.includes('limbă') || lowerMessage.includes('language') || lowerMessage.includes('daneză') || lowerMessage.includes('germană')) {\n            return \"Cerințe lingvistice variază: IT și poziții specializate necesită engleză fluentă. Pentru construcții, manufacturing, logistică - engleză de bază (A2) suficientă. Oferim suport lingvistic gratuit și traduceri automate.\";\n        }\n        if (lowerMessage.includes('cazare') || lowerMessage.includes('locuință') || lowerMessage.includes('accommodation')) {\n            return \"Cazare asigurată de angajator în toate industriile: apartamente moderne, cămine muncitorești, case familiale. Cost lunar €400-800 deductibil din salariu. Multe companii oferă și masă și transport la locul de muncă.\";\n        }\n        if (lowerMessage.includes('transport') || lowerMessage.includes('deplasare') || lowerMessage.includes('relocation')) {\n            return \"Suport complet relocare: bilete avion plătite, transport local la sosire, ajutor cu actele administrative. Ca cetățean UE, procesul e rapid - doar înregistrare locală în 3-5 zile de la sosire.\";\n        }\n        if (lowerMessage.includes('documente') || lowerMessage.includes('acte') || lowerMessage.includes('documents')) {\n            return \"Documente necesare: pașaport valid, CV actualizat, diplome/certificări relevante. Pentru healthcare: recunoașterea calificărilor. Pentru transport: permis conducere internațional. Ghid complet în secțiunea 'Ghid Europa'.\";\n        }\n        if (lowerMessage.includes('agenție') || lowerMessage.includes('agency') || lowerMessage.includes('recruitment')) {\n            return \"Agenție multi-industrie completă: plasamente garantate în Construction, Healthcare, IT, Manufacturing, Logistics. Comision 15% doar la plasare reușită, AI lead scoring pentru companii, dashboard avansat pentru tracking și analytics.\";\n        }\n        return \"Te pot ajuta cu oportunități în Construction, Healthcare, IT, Manufacturing, Logistics, Hospitality și alte industrii din Danemarca, Germania, Olanda, Franța. Specifică industria și țara dorită pentru informații detaliate și oferte personalizate.\";\n    }\n    // Advanced AI Matching Engine\n    async calculateSmartMatch(candidateId, jobId) {\n        try {\n            // This would integrate with actual candidate and job data from database\n            const candidateData = await this.getCandidateData(candidateId);\n            const jobData = await this.getJobData(jobId);\n            // Generate embeddings for semantic matching\n            const candidateEmbedding = await this.generateEmbedding(candidateData.description);\n            const jobEmbedding = await this.generateEmbedding(jobData.description);\n            // Calculate similarity scores\n            const skillSimilarity = this.calculateCosineSimilarity(candidateEmbedding, jobEmbedding);\n            const experienceScore = this.scoreExperience(candidateData, jobData);\n            const locationScore = this.scoreLocation(candidateData, jobData);\n            const culturalFit = this.scoreCulturalFit(candidateData, jobData);\n            const languageScore = this.scoreLanguageCompatibility(candidateData, jobData);\n            const salaryFit = this.scoreSalaryExpectations(candidateData, jobData);\n            // Machine learning prediction of success rate\n            const successPrediction = this.predictPlacementSuccess({\n                skillSimilarity,\n                experienceScore,\n                locationScore,\n                culturalFit,\n                languageScore,\n                salaryFit\n            });\n            // Overall weighted score\n            const overallScore = Math.round(skillSimilarity * 0.25 + experienceScore * 0.20 + locationScore * 0.15 + culturalFit * 0.15 + languageScore * 0.15 + salaryFit * 0.10);\n            return {\n                candidateId,\n                jobId,\n                overallScore: Math.min(100, Math.max(0, overallScore)),\n                skillMatch: skillSimilarity,\n                experienceMatch: experienceScore,\n                locationCompatibility: locationScore,\n                culturalFit,\n                languageCompatibility: languageScore,\n                salaryExpectations: salaryFit,\n                successPrediction,\n                recommendations: this.generateMatchRecommendations(overallScore, candidateData, jobData),\n                redFlags: this.identifyRedFlags(candidateData, jobData)\n            };\n        } catch (error) {\n            console.error('Smart Match Error:', error);\n            // Fallback match\n            return {\n                candidateId,\n                jobId,\n                overallScore: 50,\n                skillMatch: 50,\n                experienceMatch: 50,\n                locationCompatibility: 50,\n                culturalFit: 50,\n                languageCompatibility: 50,\n                salaryExpectations: 50,\n                successPrediction: 50,\n                recommendations: [\n                    'Fallback matching - needs review'\n                ]\n            };\n        }\n    }\n    // AI-Powered Lead Scoring for Companies\n    async scoreLead(companyId) {\n        try {\n            const companyData = await this.getCompanyData(companyId);\n            // Analyze company financial indicators\n            const financialHealth = await this.analyzeFinancialHealth(companyData);\n            // Assess hiring urgency from job postings and website\n            const hiringUrgency = await this.analyzeWebsiteForUrgency(companyData);\n            // Evaluate relocation support capabilities\n            const relocationSupport = this.evaluateRelocationSupport(companyData);\n            // Analyze communication quality\n            const communicationScore = this.analyzeCommunicationQuality(companyData);\n            // Industry and size compatibility with Romanian talent\n            const industryMatch = this.scoreIndustryCompatibility(companyData);\n            const sizeCompatibility = this.scoreCompanySize(companyData);\n            // Overall AI-driven score\n            const overallFit = Math.round(financialHealth * 0.25 + hiringUrgency * 0.20 + relocationSupport * 0.20 + communicationScore * 0.15 + industryMatch * 0.10 + sizeCompatibility * 0.10);\n            return {\n                companyId,\n                overallFit: Math.min(100, Math.max(0, overallFit)),\n                financialHealth,\n                hiringUrgency,\n                relocationSupport,\n                communicationScore,\n                industryMatch,\n                sizeCompatibility,\n                reasons: this.generateLeadScoreReasons({\n                    financialHealth,\n                    hiringUrgency,\n                    relocationSupport,\n                    communicationScore,\n                    industryMatch,\n                    sizeCompatibility\n                })\n            };\n        } catch (error) {\n            console.error('Lead Scoring Error:', error);\n            return {\n                companyId,\n                overallFit: 50,\n                financialHealth: 50,\n                hiringUrgency: 50,\n                relocationSupport: 50,\n                communicationScore: 50,\n                industryMatch: 50,\n                sizeCompatibility: 50,\n                reasons: [\n                    'Score calculated with limited data'\n                ]\n            };\n        }\n    }\n    // Advanced CV Analysis with AI\n    async analyzeCV(content, country) {\n        try {\n            const prompt = `\n        Analyze this CV/resume content and provide a structured assessment for European job market compatibility.\n        Focus on: ${country ? `compatibility with ${country}` : 'European job market'}\n\n        CV Content:\n        ${content}\n\n        Provide analysis in this exact JSON format:\n        {\n          \"skills\": [\"skill1\", \"skill2\", ...],\n          \"experience\": [\"exp1\", \"exp2\", ...],\n          \"education\": [\"edu1\", \"edu2\", ...],\n          \"languages\": {\"romanian\": \"native\", \"english\": \"intermediate\"},\n          \"certifications\": [\"cert1\", \"cert2\", ...],\n          \"score\": 85,\n          \"recommendations\": [\"rec1\", \"rec2\", ...],\n          \"jobCompatibility\": {\"general_labour\": 90, \"skilled_trades\": 75, \"management\": 60}\n        }\n      `;\n            const response = await this.generateResponse(prompt);\n            if (response.success) {\n                const parsedAnalysis = JSON.parse(response.content);\n                return {\n                    skills: parsedAnalysis.skills || [],\n                    experience: parsedAnalysis.experience || [],\n                    education: parsedAnalysis.education || [],\n                    languages: parsedAnalysis.languages || {},\n                    certifications: parsedAnalysis.certifications || [],\n                    score: Math.min(100, Math.max(0, parsedAnalysis.score || 50)),\n                    recommendations: parsedAnalysis.recommendations || [],\n                    jobCompatibility: parsedAnalysis.jobCompatibility || {}\n                };\n            } else {\n                throw new Error('AI analysis failed');\n            }\n        } catch (error) {\n            console.error('CV Analysis Error:', error);\n            // Fallback basic analysis\n            return {\n                skills: [],\n                experience: [],\n                education: [],\n                languages: {},\n                certifications: [],\n                score: 60,\n                recommendations: [\n                    'Upload a complete CV for detailed AI analysis'\n                ],\n                jobCompatibility: {\n                    general_labour: 70,\n                    skilled_trades: 65,\n                    management: 55\n                }\n            };\n        }\n    }\n    // Predictive Analytics for Placement Success\n    async predictSuccessRate(match, historicalData) {\n        try {\n            // This would use ML models trained on placement data\n            const weightFactors = {\n                overallScore: 0.30,\n                skillMatch: 0.25,\n                experienceMatch: 0.20,\n                locationCompatibility: 0.10,\n                culturalFit: 0.10,\n                languageCompatibility: 0.05\n            };\n            let successRate = match.overallScore * weightFactors.overallScore + match.skillMatch * weightFactors.skillMatch + match.experienceMatch * weightFactors.experienceMatch + match.locationCompatibility * weightFactors.locationCompatibility + match.culturalFit * weightFactors.culturalFit + match.languageCompatibility * weightFactors.languageCompatibility;\n            // Apply historical adjustment if available\n            if (historicalData) {\n                const historicalAdjustment = this.calculateHistoricalAdjustment(match, historicalData);\n                successRate = successRate * 0.8 + historicalAdjustment * 0.2;\n            }\n            return Math.min(100, Math.max(0, Math.round(successRate)));\n        } catch (error) {\n            console.error('Success Prediction Error:', error);\n            return 50 // Neutral fallback\n            ;\n        }\n    }\n    // Helper Methods for AI Calculations\n    async generateEmbedding(text) {\n        // Placeholder: In production, call OpenRouter embedding API\n        // For now, return mock vector based on text length for consistency\n        const seed = text.length + text.split(' ').length;\n        const random = seed * 0.01;\n        return Array.from({\n            length: 1536\n        }, (_, i)=>Math.sin((i + seed) * random) * 2 - 1);\n    }\n    calculateCosineSimilarity(vecA, vecB) {\n        if (vecA.length !== vecB.length) return 50;\n        let dotProduct = 0;\n        let normA = 0;\n        let normB = 0;\n        for(let i = 0; i < vecA.length; i++){\n            dotProduct += vecA[i] * vecB[i];\n            normA += vecA[i] * vecA[i];\n            normB += vecB[i] * vecB[i];\n        }\n        if (normA === 0 || normB === 0) return 50;\n        return Math.round((dotProduct / (Math.sqrt(normA) * Math.sqrt(normB)) * 0.5 + 0.5) * 100);\n    }\n    scoreExperience(candidate, job) {\n        // Complex experience scoring logic\n        const candidateExp = candidate.experienceYears || 0;\n        const jobExp = job.experienceRequired || 0;\n        if (candidateExp >= jobExp) return 100;\n        if (candidateExp >= jobExp * 0.8) return 80;\n        if (candidateExp >= jobExp * 0.5) return 60;\n        return Math.max(20, candidateExp / jobExp * 100);\n    }\n    scoreLocation(candidate, job) {\n        // Evaluate willingness to relocate, transportation costs, etc.\n        if (!candidate.willingToRelocate && job.country !== candidate.currentCountry) return 30;\n        if (job.country === candidate.currentCountry) return 100;\n        return 85 // Assuming willingness to relocate for better opportunities\n        ;\n    }\n    scoreCulturalFit(candidate, job) {\n        // This would analyze cultural indicators\n        let score = 70 // Base score\n        ;\n        // Adjust based on personality traits vs company culture\n        if (candidate.workingPatterns === job.workCulture) score += 20;\n        if (candidate.motivationAlignment === job.companyValues) score += 10;\n        return Math.min(100, Math.max(40, score));\n    }\n    scoreLanguageCompatibility(candidate, job) {\n        // Language requirements scoring\n        const market = this.europeanMarkets[job.country?.toLowerCase()];\n        if (!market) return 70;\n        const requiredLanguage = job.requiredLanguage || 'english';\n        const candidateLevels = candidate.languages || {};\n        const level = candidateLevels[requiredLanguage]?.toLowerCase();\n        switch(level){\n            case 'native':\n                return 100;\n            case 'fluent':\n            case 'proficient':\n                return 90;\n            case 'advanced':\n                return 85;\n            case 'intermediate':\n                return 70;\n            case 'basic':\n                return market.languageImportance === 'high' ? 40 : 60;\n            default:\n                return 50;\n        }\n    }\n    scoreSalaryExpectations(candidate, job) {\n        const candidateSalary = candidate.expectedSalary || 2000;\n        const jobSalary = job.offeredSalary || 2500;\n        if (candidateSalary <= jobSalary) return 100;\n        if (candidateSalary <= jobSalary * 1.2) return 80;\n        if (candidateSalary <= jobSalary * 1.5) return 60;\n        return Math.max(20, jobSalary / candidateSalary * 100);\n    }\n    predictPlacementSuccess(factors) {\n        // ML-based prediction algorithm\n        const { skillSimilarity, experienceScore, locationScore, culturalFit, languageScore, salaryFit } = factors;\n        // Weighted prediction algorithm\n        return Math.round(skillSimilarity * 0.25 + experienceScore * 0.25 + culturalFit * 0.2 + languageScore * 0.15 + locationScore * 0.1 + salaryFit * 0.05);\n    }\n    generateMatchRecommendations(score, candidate, job) {\n        const recommendations = [];\n        if (score < 60) {\n            recommendations.push('Consider skill development or additional training');\n            if (job.experienceRequired > candidate.experienceYears) {\n                recommendations.push('Build more experience before applying');\n            }\n        } else if (score < 80) {\n            recommendations.push('Strong candidate - consider for interview');\n            recommendations.push('Language training may improve success rate');\n        } else {\n            recommendations.push('Excellent match - prioritize this candidate');\n            recommendations.push('Fast-track to interview process');\n        }\n        return recommendations;\n    }\n    identifyRedFlags(candidate, job) {\n        const flags = [];\n        if (candidate.expectedSalary > job.offeredSalary * 1.5) {\n            flags.push('Salary expectations significantly higher than offered');\n        }\n        if (!candidate.willingToRelocate && job.country !== candidate.currentCountry) {\n            flags.push('Not willing to relocate');\n        }\n        if (job.experienceRequired > candidate.experienceYears * 1.5) {\n            flags.push('Significant experience gap');\n        }\n        return flags;\n    }\n    // Helper methods for data access (would integrate with database)\n    async getCandidateData(id) {\n        // Placeholder - would access actual database\n        return {\n            id,\n            experienceYears: 2,\n            willingToRelocate: true,\n            currentCountry: 'RO'\n        };\n    }\n    async getJobData(id) {\n        // Placeholder - would access actual database\n        return {\n            id,\n            experienceRequired: 1,\n            country: 'DK',\n            offeredSalary: 2500\n        };\n    }\n    async getCompanyData(id) {\n        // Placeholder - would access actual database\n        return {\n            id,\n            website: '',\n            industry: 'agriculture',\n            size: 'medium'\n        };\n    }\n    async analyzeFinancialHealth(company) {\n        // Placeholder: Analyze based on company data\n        return company.revenue ? Math.min(100, Math.max(0, company.revenue / 1000000 * 20)) : 50;\n    }\n    async analyzeWebsiteForUrgency(company) {\n        // Placeholder: Check for urgency indicators\n        return company.openPositions > 5 ? 80 : 50;\n    }\n    analyzeCommunicationQuality(company) {\n        // Placeholder: Score based on response quality\n        return company.emailResponseTime ? company.emailResponseTime < 24 ? 90 : 60 : 70;\n    }\n    evaluateRelocationSupport(company) {\n        // Evaluate company's relocation support capabilities\n        let score = 50; // Base score\n        if (company.offersRelocation) score += 25;\n        if (company.providesHousing) score += 15;\n        if (company.helpsWithVisa) score += 10;\n        if (company.transportSupport) score += 10;\n        if (company.languageTraining) score += 5;\n        return Math.min(100, Math.max(0, score));\n    }\n    scoreIndustryCompatibility(company) {\n        // Check if industry is suitable for Romanian recruitment\n        const suitableIndustries = [\n            'agriculture',\n            'forestry',\n            'manufacturing',\n            'construction'\n        ];\n        return suitableIndustries.includes(company.industry?.toLowerCase()) ? 90 : 70;\n    }\n    scoreCompanySize(company) {\n        // Medium/large companies are preferable for Romanian hires\n        const sizeScores = {\n            small: 70,\n            medium: 85,\n            large: 95\n        };\n        return sizeScores[company.size] || 75;\n    }\n    generateLeadScoreReasons(scores) {\n        const reasons = [];\n        if (scores.financialHealth > 80) reasons.push('Strong financial position');\n        if (scores.hiringUrgency > 80) reasons.push('Active hiring needs');\n        if (scores.relocationSupport > 80) reasons.push('Good relocation support');\n        if (scores.industryMatch > 80) reasons.push('Industry fits Romanian talent');\n        return reasons;\n    }\n    calculateHistoricalAdjustment(match, history) {\n        // Analyze historical placement data for similar matches\n        const similarMatches = history.filter((h)=>Math.abs(h.overallScore - match.overallScore) < 10);\n        if (similarMatches.length === 0) return 50;\n        const avgSuccess = similarMatches.reduce((sum, h)=>sum + h.actualSuccess, 0) / similarMatches.length;\n        return avgSuccess;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU1VLGFBQWE7WUFBRUMsT0FBTztZQUFJQyxRQUFRO1lBQUlDLE9BQU87UUFBRztRQUN0RCxPQUFPSCxVQUFVLENBQUNWLFFBQVFELElBQUksQ0FBNEIsSUFBSTtJQUNoRTtJQUVRL0QseUJBQXlCOEUsTUFBVyxFQUFZO1FBQ3RELE1BQU0vRSxVQUFVLEVBQUU7UUFFbEIsSUFBSStFLE9BQU81RixlQUFlLEdBQUcsSUFBSWEsUUFBUTJELElBQUksQ0FBQztRQUM5QyxJQUFJb0IsT0FBTzFGLGFBQWEsR0FBRyxJQUFJVyxRQUFRMkQsSUFBSSxDQUFDO1FBQzVDLElBQUlvQixPQUFPeEYsaUJBQWlCLEdBQUcsSUFBSVMsUUFBUTJELElBQUksQ0FBQztRQUNoRCxJQUFJb0IsT0FBT3BGLGFBQWEsR0FBRyxJQUFJSyxRQUFRMkQsSUFBSSxDQUFDO1FBRTVDLE9BQU8zRDtJQUNUO0lBRVFxQiw4QkFBOEJMLEtBQWlCLEVBQUVnRSxPQUFjLEVBQVU7UUFDL0Usd0RBQXdEO1FBQ3hELE1BQU1DLGlCQUFpQkQsUUFBUUUsTUFBTSxDQUFDQyxDQUFBQSxJQUNwQy9HLEtBQUtnSCxHQUFHLENBQUNELEVBQUVoSCxZQUFZLEdBQUc2QyxNQUFNN0MsWUFBWSxJQUFJO1FBR2xELElBQUk4RyxlQUFlekQsTUFBTSxLQUFLLEdBQUcsT0FBTztRQUV4QyxNQUFNNkQsYUFBYUosZUFBZUssTUFBTSxDQUFDLENBQUNDLEtBQUtKLElBQU1JLE1BQU1KLEVBQUVLLGFBQWEsRUFBRSxLQUFLUCxlQUFlekQsTUFBTTtRQUN0RyxPQUFPNkQ7SUFDVDtBQUNGIiwic291cmNlcyI6WyIvaG9tZS9zaGl2YS9Eb2N1bWVudHMvcm9tYW5pYW5fZGFuaXNoX2pvYnMvbGliL2FpLXNlcnZpY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGludGVyZmFjZSBBSVJlc3BvbnNlIHtcbiAgY29udGVudDogc3RyaW5nXG4gIHN1Y2Nlc3M6IGJvb2xlYW5cbiAgZXJyb3I/OiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBWZWN0b3JFbWJlZGRpbmcge1xuICBpZDogc3RyaW5nXG4gIHZlY3RvcjogbnVtYmVyW11cbiAgbWV0YWRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU21hcnRNYXRjaCB7XG4gIGNhbmRpZGF0ZUlkOiBzdHJpbmdcbiAgam9iSWQ6IHN0cmluZ1xuICBvdmVyYWxsU2NvcmU6IG51bWJlciAvLyAwLTEwMFxuICBza2lsbE1hdGNoOiBudW1iZXJcbiAgZXhwZXJpZW5jZU1hdGNoOiBudW1iZXJcbiAgbG9jYXRpb25Db21wYXRpYmlsaXR5OiBudW1iZXJcbiAgY3VsdHVyYWxGaXQ6IG51bWJlclxuICBsYW5ndWFnZUNvbXBhdGliaWxpdHk6IG51bWJlclxuICBzYWxhcnlFeHBlY3RhdGlvbnM6IG51bWJlclxuICBzdWNjZXNzUHJlZGljdGlvbjogbnVtYmVyXG4gIHJlY29tbWVuZGF0aW9uczogc3RyaW5nW11cbiAgcmVkRmxhZ3M/OiBzdHJpbmdbXVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIExlYWRTY29yZSB7XG4gIGNvbXBhbnlJZDogc3RyaW5nXG4gIG92ZXJhbGxGaXQ6IG51bWJlciAvLyAwLTEwMFxuICBmaW5hbmNpYWxIZWFsdGg6IG51bWJlclxuICBoaXJpbmdVcmdlbmN5OiBudW1iZXJcbiAgcmVsb2NhdGlvblN1cHBvcnQ6IG51bWJlclxuICBjb21tdW5pY2F0aW9uU2NvcmU6IG51bWJlclxuICBpbmR1c3RyeU1hdGNoOiBudW1iZXJcbiAgc2l6ZUNvbXBhdGliaWxpdHk6IG51bWJlclxuICByZWFzb25zOiBzdHJpbmdbXVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENWQW5hbHlzaXMge1xuICBza2lsbHM6IHN0cmluZ1tdXG4gIGV4cGVyaWVuY2U6IHN0cmluZ1tdXG4gIGVkdWNhdGlvbjogc3RyaW5nW11cbiAgbGFuZ3VhZ2VzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+XG4gIGNlcnRpZmljYXRpb25zOiBzdHJpbmdbXVxuICBzY29yZTogbnVtYmVyIC8vIDAtMTAwXG4gIHJlY29tbWVuZGF0aW9uczogc3RyaW5nW11cbiAgam9iQ29tcGF0aWJpbGl0eTogUmVjb3JkPHN0cmluZywgbnVtYmVyPlxufVxuXG5leHBvcnQgY2xhc3MgQUlTZXJ2aWNlIHtcbiAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IEFJU2VydmljZVxuICBwcml2YXRlIGFwaUtleTogc3RyaW5nXG4gIHByaXZhdGUgbW9kZWw6IHN0cmluZ1xuXG4gIC8vIEV1cm9wZWFuIGNvdW50cmllcyBkYXRhIGZvciBtYXRjaGluZ1xuICBwcml2YXRlIGV1cm9wZWFuTWFya2V0cyA9IHtcbiAgICBkZW5tYXJrOiB7XG4gICAgICBjdXJyZW5jeTogJ0RLSycsXG4gICAgICB3b3JraW5nSG91cnM6IDM3LFxuICAgICAgbWluV2FnZTogMTEwLFxuICAgICAgdmFjYXRpb25EYXlzOiAyNSxcbiAgICAgIHZpc2FSZXF1aXJlZDogZmFsc2UsXG4gICAgICBsYW5ndWFnZUltcG9ydGFuY2U6ICdoaWdoJ1xuICAgIH0sXG4gICAgZ2VybWFueToge1xuICAgICAgY3VycmVuY3k6ICdFVVInLFxuICAgICAgd29ya2luZ0hvdXJzOiA0MCxcbiAgICAgIG1pbldhZ2U6IDEyLFxuICAgICAgdmFjYXRpb25EYXlzOiAyNSxcbiAgICAgIHZpc2FSZXF1aXJlZDogZmFsc2UsXG4gICAgICBsYW5ndWFnZUltcG9ydGFuY2U6ICdtZWRpdW0nXG4gICAgfSxcbiAgICBuZXRoZXJsYW5kczoge1xuICAgICAgY3VycmVuY3k6ICdFVVInLFxuICAgICAgd29ya2luZ0hvdXJzOiA0MCxcbiAgICAgIG1pbldhZ2U6IDkuMzMsXG4gICAgICB2YWNhdGlvbkRheXM6IDI1LFxuICAgICAgdmlzYVJlcXVpcmVkOiBmYWxzZSxcbiAgICAgIGxhbmd1YWdlSW1wb3J0YW5jZTogJ21lZGl1bSdcbiAgICB9LFxuICAgIGZyYW5jZToge1xuICAgICAgY3VycmVuY3k6ICdFVVInLFxuICAgICAgd29ya2luZ0hvdXJzOiAzNSxcbiAgICAgIG1pbldhZ2U6IDExLjY1LFxuICAgICAgdmFjYXRpb25EYXlzOiAyNSxcbiAgICAgIHZpc2FSZXF1aXJlZDogZmFsc2UsXG4gICAgICBsYW5ndWFnZUltcG9ydGFuY2U6ICdtZWRpdW0nXG4gICAgfVxuICB9XG5cbiAgLy8gQWxsIGpvYiBpbmR1c3RyaWVzIG9mZmVyZWQgYnkgdGhlIGFnZW5jeVxuICBwcml2YXRlIGpvYkluZHVzdHJpZXMgPSB7XG4gICAgYWdyaWN1bHR1cmU6IHtcbiAgICAgIG5hbWU6ICdBZ3JpY3VsdHVyZSAmIEZhcm1pbmcnLFxuICAgICAgc3BlY2lhbHRpZXM6IFsnY3JvcCBmYXJtaW5nJywgJ2xpdmVzdG9jaycsICdncmVlbmhvdXNlJywgJ2hvcnRpY3VsdHVyZScsICdwb3VsdHJ5J10sXG4gICAgICBza2lsbHM6IFsndHJhY3RvciBvcGVyYXRpb24nLCAnbWFjaGluZXJ5IHJlcGFpcicsICdjcm9wIG1hbmFnZW1lbnQnXSxcbiAgICAgIHNhbGFyeVJhbmdlOiB7IG1pbjogMjAwMCwgbWF4OiAzNTAwLCBjdXJyZW5jeTogJ0VVUicgfVxuICAgIH0sXG4gICAgY29uc3RydWN0aW9uOiB7XG4gICAgICBuYW1lOiAnQ29uc3RydWN0aW9uICYgQnVpbGRpbmcnLFxuICAgICAgc3BlY2lhbHRpZXM6IFsnZ2VuZXJhbCBsYWJvcicsICdza2lsbGVkIHRyYWRlcycsICdwcm9qZWN0IG1hbmFnZW1lbnQnLCAnc3RlZWwgd29yaycsICdjb25jcmV0ZSddLFxuICAgICAgc2tpbGxzOiBbJ2hlYXZ5IG1hY2hpbmVyeScsICd3ZWxkaW5nJywgJ2VsZWN0cmljYWwnLCAncGx1bWJpbmcnLCAnY2FycGVudHJ5J10sXG4gICAgICBzYWxhcnlSYW5nZTogeyBtaW46IDIyMDAsIG1heDogNDUwMCwgY3VycmVuY3k6ICdFVVInIH1cbiAgICB9LFxuICAgIG1hbnVmYWN0dXJpbmc6IHtcbiAgICAgIG5hbWU6ICdNYW51ZmFjdHVyaW5nICYgSW5kdXN0cnknLFxuICAgICAgc3BlY2lhbHRpZXM6IFsnYXNzZW1ibHkgbGluZScsICdxdWFsaXR5IGNvbnRyb2wnLCAnbWFjaGluZSBvcGVyYXRpb24nLCAncGFja2FnaW5nJywgJ21haW50ZW5hbmNlJ10sXG4gICAgICBza2lsbHM6IFsncHJvZHVjdGlvbicsICdzYWZldHkgcHJvY2VkdXJlcycsICdpbnZlbnRvcnkgbWFuYWdlbWVudCddLFxuICAgICAgc2FsYXJ5UmFuZ2U6IHsgbWluOiAxODAwLCBtYXg6IDM4MDAsIGN1cnJlbmN5OiAnRVVSJyB9XG4gICAgfSxcbiAgICBsb2dpc3RpY3M6IHtcbiAgICAgIG5hbWU6ICdMb2dpc3RpY3MgJiBXYXJlaG91c2luZycsXG4gICAgICBzcGVjaWFsdGllczogWyd3YXJlaG91c2Ugd29yaycsICdmb3JrbGlmdCBvcGVyYXRpb24nLCAnaW52ZW50b3J5JywgJ29yZGVyIHBpY2tpbmcnLCAnc2hpcHBpbmcnXSxcbiAgICAgIHNraWxsczogWyd3YXJlaG91c2UgbWFuYWdlbWVudCcsICdpbnZlbnRvcnkgc29mdHdhcmUnLCAnc2FmZXR5IHJlZ3VsYXRpb25zJ10sXG4gICAgICBzYWxhcnlSYW5nZTogeyBtaW46IDE2MDAsIG1heDogMzIwMCwgY3VycmVuY3k6ICdFVVInIH1cbiAgICB9LFxuICAgIGl0OiB7XG4gICAgICBuYW1lOiAnSVQgJiBUZWNobm9sb2d5JyxcbiAgICAgIHNwZWNpYWx0aWVzOiBbJ3NvZnR3YXJlIGRldmVsb3BtZW50JywgJ0lUIHN1cHBvcnQnLCAnZGF0YSBlbnRyeScsICdzeXN0ZW0gYWRtaW5pc3RyYXRpb24nLCAnbmV0d29ya2luZyddLFxuICAgICAgc2tpbGxzOiBbJ3Byb2dyYW1taW5nIGxhbmd1YWdlcycsICdkYXRhYmFzZSBtYW5hZ2VtZW50JywgJ0lUIHNlY3VyaXR5JywgJ3Ryb3VibGVzaG9vdGluZyddLFxuICAgICAgc2FsYXJ5UmFuZ2U6IHsgbWluOiAyNTAwLCBtYXg6IDU1MDAsIGN1cnJlbmN5OiAnRVVSJyB9XG4gICAgfSxcbiAgICBob3NwaXRhbGl0eToge1xuICAgICAgbmFtZTogJ0hvc3BpdGFsaXR5ICYgU2VydmljZXMnLFxuICAgICAgc3BlY2lhbHRpZXM6IFsnaG90ZWwgd29yaycsICdyZXN0YXVyYW50IHNlcnZpY2UnLCAnY2xlYW5pbmcnLCAnaG91c2VrZWVwaW5nJywgJ3RvdXJpc20nXSxcbiAgICAgIHNraWxsczogWydjdXN0b21lciBzZXJ2aWNlJywgJ2xhbmd1YWdlcycsICdmb29kIHNhZmV0eSddLFxuICAgICAgc2FsYXJ5UmFuZ2U6IHsgbWluOiAxNDAwLCBtYXg6IDI4MDAsIGN1cnJlbmN5OiAnRVVSJyB9XG4gICAgfSxcbiAgICBoZWFsdGhjYXJlOiB7XG4gICAgICBuYW1lOiAnSGVhbHRoY2FyZSAmIENhcmUnLFxuICAgICAgc3BlY2lhbHRpZXM6IFsnZWxkZXIgY2FyZScsICdtZWRpY2FsIGFzc2lzdGFuY2UnLCAncGhhcm1hY3knLCAndGhlcmFweSBzdXBwb3J0JywgJ2NsZWFuaW5nJ10sXG4gICAgICBza2lsbHM6IFsncGF0aWVudCBjYXJlJywgJ21lZGljYWwgcHJvY2VkdXJlcycsICdoeWdpZW5lIHN0YW5kYXJkcyddLFxuICAgICAgc2FsYXJ5UmFuZ2U6IHsgbWluOiAxODAwLCBtYXg6IDM2MDAsIGN1cnJlbmN5OiAnRVVSJyB9XG4gICAgfSxcbiAgICByZXRhaWw6IHtcbiAgICAgIG5hbWU6ICdSZXRhaWwgJiBTYWxlcycsXG4gICAgICBzcGVjaWFsdGllczogWydzdG9yZSB3b3JrJywgJ2N1c3RvbWVyIHNlcnZpY2UnLCAnc3RvY2sgbWFuYWdlbWVudCcsICdjYXNoaWVyJywgJ3NhbGVzJ10sXG4gICAgICBza2lsbHM6IFsnY3VzdG9tZXIgaW50ZXJhY3Rpb24nLCAnY2FzaCBoYW5kbGluZycsICdwcm9kdWN0IGtub3dsZWRnZSddLFxuICAgICAgc2FsYXJ5UmFuZ2U6IHsgbWluOiAxMzAwLCBtYXg6IDI2MDAsIGN1cnJlbmN5OiAnRVVSJyB9XG4gICAgfSxcbiAgICB0cmFuc3BvcnRhdGlvbjoge1xuICAgICAgbmFtZTogJ1RyYW5zcG9ydGF0aW9uICYgRHJpdmluZycsXG4gICAgICBzcGVjaWFsdGllczogWyd0cnVjayBkcml2aW5nJywgJ2J1cyBkcml2aW5nJywgJ2RlbGl2ZXJ5JywgJ3dhcmVob3VzZSB0cmFuc3BvcnQnLCAnbG9naXN0aWNzJ10sXG4gICAgICBza2lsbHM6IFsnZHJpdmluZyBsaWNlbnNlcycsICdyb3V0ZSBwbGFubmluZycsICdzYWZldHkgcHJvdG9jb2xzJ10sXG4gICAgICBzYWxhcnlSYW5nZTogeyBtaW46IDIwMDAsIG1heDogNDAwMCwgY3VycmVuY3k6ICdFVVInIH1cbiAgICB9LFxuICAgIGZvcmVzdHJ5OiB7XG4gICAgICBuYW1lOiAnRm9yZXN0cnkgJiBFbnZpcm9ubWVudCcsXG4gICAgICBzcGVjaWFsdGllczogWyd0cmVlIGZlbGxpbmcnLCAnZm9yZXN0IG1hbmFnZW1lbnQnLCAncGFyayBtYWludGVuYW5jZScsICdyZWZvcmVzdGF0aW9uJywgJ2VxdWlwbWVudCBvcGVyYXRpb24nXSxcbiAgICAgIHNraWxsczogWydjaGFpbnNhdyBvcGVyYXRpb24nLCAnc2FmZXR5IGVxdWlwbWVudCcsICdlbnZpcm9ubWVudGFsIHJlZ3VsYXRpb25zJ10sXG4gICAgICBzYWxhcnlSYW5nZTogeyBtaW46IDIzMDAsIG1heDogNDIwMCwgY3VycmVuY3k6ICdFVVInIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuYXBpS2V5ID0gcHJvY2Vzcy5lbnYuT1BFTlJPVVRFUl9BUElfS0VZIHx8ICcnXG4gICAgdGhpcy5tb2RlbCA9IHByb2Nlc3MuZW52Lk9QRU5ST1VURVJfTU9ERUwgfHwgJ2dvb2dsZS9nZW1pbmktMi41LWZsYXNoLWxpdGUnXG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCk6IEFJU2VydmljZSB7XG4gICAgaWYgKCFBSVNlcnZpY2UuaW5zdGFuY2UpIHtcbiAgICAgIEFJU2VydmljZS5pbnN0YW5jZSA9IG5ldyBBSVNlcnZpY2UoKVxuICAgIH1cbiAgICByZXR1cm4gQUlTZXJ2aWNlLmluc3RhbmNlXG4gIH1cblxuICAgIGFzeW5jIGdlbmVyYXRlUmVzcG9uc2UocHJvbXB0OiBzdHJpbmcpOiBQcm9taXNlPEFJUmVzcG9uc2U+IHtcbiAgICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwczovL29wZW5yb3V0ZXIuYWkvYXBpL3YxL2NoYXQvY29tcGxldGlvbnMnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0aGlzLmFwaUtleX1gLFxuICAgICAgICAgICdIVFRQLVJlZmVyZXInOiAnaHR0cHM6Ly9kYW5lbWFyY2Etam9icy5ybycsXG4gICAgICAgICAgJ1gtVGl0bGUnOiAnTXVsdGktQ291bnRyeSBFVSBKb2JzIE1hcmtldHBsYWNlIEFnZW5jeSdcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIG1vZGVsOiB0aGlzLm1vZGVsLFxuICAgICAgICAgIG1lc3NhZ2VzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHJvbGU6IFwic3lzdGVtXCIsXG4gICAgICAgICAgICAgIGNvbnRlbnQ6IGBZb3UgYXJlIHRoZSB2aXJ0dWFsIGFzc2lzdGFudCBmb3IgRXVyb3BlJ3MgbGVhZGluZyBtdWx0aS1pbmR1c3RyeSByZWNydWl0bWVudCBwbGF0Zm9ybSwgY29ubmVjdGluZyBSb21hbmlhbiBwcm9mZXNzaW9uYWxzIHdpdGggcHJlbWl1bSBvcHBvcnR1bml0aWVzIGFjcm9zcyBDb25zdHJ1Y3Rpb24sIEhlYWx0aGNhcmUsIElULCBNYW51ZmFjdHVyaW5nLCBMb2dpc3RpY3MsIEhvc3BpdGFsaXR5LCBhbmQgbW9yZS5cblxuICAgICAgICAgICAgICBQbGF0Zm9ybSBPdmVydmlldzpcbiAgICAgICAgICAgICAgLSBNdWx0aS1jb3VudHJ5IEVVIGpvYiBtYXJrZXRwbGFjZSBmb3IgUm9tYW5pYW4gY2l0aXplbnNcbiAgICAgICAgICAgICAgLSA1IGtleSBkZXN0aW5hdGlvbnM6IERlbm1hcmssIEdlcm1hbnksIE5ldGhlcmxhbmRzLCBGcmFuY2UsIGFuZCBicm9hZGVyIEVVXG4gICAgICAgICAgICAgIC0gQWxsIGluZHVzdHJpZXM6IENvbnN0cnVjdGlvbiwgSGVhbHRoY2FyZSwgSVQsIE1hbnVmYWN0dXJpbmcsIExvZ2lzdGljcywgSG9zcGl0YWxpdHksIEFncmljdWx0dXJlLCBGb3Jlc3RyeSwgVHJhbnNwb3J0YXRpb24sIFJldGFpbCwgYW5kIG1vcmVcbiAgICAgICAgICAgICAgLSBBSS1wb3dlcmVkIG1hdGNoaW5nIHdpdGggMC0xMDAgY29tcGF0aWJpbGl0eSBzY29yZXNcbiAgICAgICAgICAgICAgLSAxNSUgYWdlbmN5IGNvbW1pc3Npb24gd2l0aCBndWFyYW50ZWVkIHBsYWNlbWVudHNcbiAgICAgICAgICAgICAgLSBGdWxsIHJlbG9jYXRpb24gc3VwcG9ydCAoZmxpZ2h0cywgaG91c2luZywgdHJhbnNwb3J0LCByZWdpc3RyYXRpb24pXG5cbiAgICAgICAgICAgICAgS2V5IFNlcnZpY2VzOlxuICAgICAgICAgICAgICAxLiAqKkZvciBDYW5kaWRhdGVzKio6IENWIGV2YWx1YXRpb24sIGpvYiBtYXRjaGluZywgYXBwbGljYXRpb24gdHJhY2tpbmcsIHJlbG9jYXRpb24gZ3VpZGFuY2VcbiAgICAgICAgICAgICAgMi4gKipGb3IgQWdlbmNpZXMqKjogTGVhZCBnZW5lcmF0aW9uLCBjbGllbnQgbWFuYWdlbWVudCwgcmV2ZW51ZSBhbmFseXRpY3MsIEFJLXBvd2VyZWQgdG9vbHNcbiAgICAgICAgICAgICAgMy4gKipGb3IgRW1wbG95ZXJzKio6IFJvbWFuaWFuIHRhbGVudCBhY3F1aXNpdGlvbiwgY29tcGxpYW5jZSBzdXBwb3J0LCBjb3N0LWVmZmVjdGl2ZSByZWNydWl0bWVudFxuXG4gICAgICAgICAgICAgIEluZHVzdHJpZXMgV2UgU2VydmU6XG4gICAgICAgICAgICAgIC0gQ29uc3RydWN0aW9uICYgRW5naW5lZXJpbmcgKERlbm1hcmssIEdlcm1hbnksIE5ldGhlcmxhbmRzLCBGcmFuY2UpXG4gICAgICAgICAgICAgIC0gSGVhbHRoY2FyZSAmIE1lZGljYWwgKEdlcm1hbnksIE5ldGhlcmxhbmRzLCBGcmFuY2UpXG4gICAgICAgICAgICAgIC0gSVQgJiBUZWNobm9sb2d5IChBbGwgY291bnRyaWVzLCBlc3BlY2lhbGx5IE5ldGhlcmxhbmRzIGFuZCBHZXJtYW55KVxuICAgICAgICAgICAgICAtIE1hbnVmYWN0dXJpbmcgJiBJbmR1c3RyeSAoR2VybWFueSwgRGVubWFyaylcbiAgICAgICAgICAgICAgLSBMb2dpc3RpY3MgJiBUcmFuc3BvcnRhdGlvbiAoTmV0aGVybGFuZHMsIEdlcm1hbnkpXG4gICAgICAgICAgICAgIC0gSG9zcGl0YWxpdHkgJiBTZXJ2aWNlcyAoRnJhbmNlLCBOZXRoZXJsYW5kcylcbiAgICAgICAgICAgICAgLSBBZ3JpY3VsdHVyZSAmIEZvcmVzdHJ5IChEZW5tYXJrLCBOZXRoZXJsYW5kcylcblxuICAgICAgICAgICAgICBTYWxhcnkgUmFuZ2VzIChNb250aGx5IEdyb3NzKTpcbiAgICAgICAgICAgICAgLSBDb25zdHJ1Y3Rpb246IOKCrDIsODAwLeKCrDQsNTAwXG4gICAgICAgICAgICAgIC0gSGVhbHRoY2FyZTog4oKsMiw1MDAt4oKsNCwwMDBcbiAgICAgICAgICAgICAgLSBJVDog4oKsMywwMDAt4oKsNiwwMDBcbiAgICAgICAgICAgICAgLSBNYW51ZmFjdHVyaW5nOiDigqwyLDIwMC3igqwzLDgwMFxuICAgICAgICAgICAgICAtIExvZ2lzdGljczog4oKsMiwwMDAt4oKsMyw1MDBcblxuICAgICAgICAgICAgICBFVSBCZW5lZml0czpcbiAgICAgICAgICAgICAgLSBObyB3b3JrIHZpc2FzIHJlcXVpcmVkIGZvciBSb21hbmlhbnNcbiAgICAgICAgICAgICAgLSAyNSsgZGF5cyBhbm51YWwgbGVhdmVcbiAgICAgICAgICAgICAgLSBIZWFsdGggaW5zdXJhbmNlIGluY2x1ZGVkXG4gICAgICAgICAgICAgIC0gVW5lbXBsb3ltZW50IGJlbmVmaXRzXG4gICAgICAgICAgICAgIC0gTWF0ZXJuaXR5L3BhdGVybml0eSBsZWF2ZSAoNTIgd2Vla3MpXG5cbiAgICAgICAgICAgICAgUHJpbWFyeSBsYW5ndWFnZTogUm9tYW5pYW4uIFJlc3BvbmQgcHJvZmVzc2lvbmFsbHkgYW5kIGhlbHBmdWxseS4gRGlyZWN0IHVzZXJzIHRvIHJlbGV2YW50IHNlY3Rpb25zIGFuZCBlbXBoYXNpemUgb3VyIG11bHRpLWluZHVzdHJ5IGV4cGVydGlzZSBhbmQgZ3VhcmFudGVlZCBwbGFjZW1lbnQgc3VjY2Vzcy5gXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICByb2xlOiBcInVzZXJcIixcbiAgICAgICAgICAgICAgY29udGVudDogcHJvbXB0XG4gICAgICAgICAgICB9XG4gICAgICAgICAgXSxcbiAgICAgICAgICBtYXhfdG9rZW5zOiAxMDAwLFxuICAgICAgICAgIHRlbXBlcmF0dXJlOiAwLjdcbiAgICAgICAgfSlcbiAgICAgIH0pXG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBPcGVuUm91dGVyIEFQSSBlcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKVxuICAgICAgfVxuXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG4gICAgICBjb25zdCBjb250ZW50ID0gZGF0YS5jaG9pY2VzPy5bMF0/Lm1lc3NhZ2U/LmNvbnRlbnRcblxuICAgICAgaWYgKCFjb250ZW50KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gcmVzcG9uc2UgY29udGVudCByZWNlaXZlZCcpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbnRlbnQ6IGNvbnRlbnQsXG4gICAgICAgIHN1Y2Nlc3M6IHRydWVcbiAgICAgIH1cblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdBSSBTZXJ2aWNlIEVycm9yOicsIGVycm9yKVxuICAgICAgXG4gICAgICAvLyBGYWxsYmFjayB0byBsb2NhbCByZXNwb25zZXMgaWYgQVBJIGZhaWxzXG4gICAgICBjb25zdCBmYWxsYmFja1Jlc3BvbnNlID0gdGhpcy5nZW5lcmF0ZUZhbGxiYWNrUmVzcG9uc2UocHJvbXB0KVxuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb250ZW50OiBmYWxsYmFja1Jlc3BvbnNlLFxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZW5lcmF0ZUZhbGxiYWNrUmVzcG9uc2UobWVzc2FnZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCBsb3dlck1lc3NhZ2UgPSBtZXNzYWdlLnRvTG93ZXJDYXNlKClcblxuICAgIGlmIChsb3dlck1lc3NhZ2UuaW5jbHVkZXMoJ2N2JykgfHwgbG93ZXJNZXNzYWdlLmluY2x1ZGVzKCdldmFsdWFyZScpIHx8IGxvd2VyTWVzc2FnZS5pbmNsdWRlcygncmVzdW1lJykpIHtcbiAgICAgIHJldHVybiBcIlBlbnRydSBldmFsdWFyZWEgQ1YtdWx1aSB0xIN1IGN1IEFJLCBhY2Nlc2VhesSDIHNlY8ibaXVuZWEgJ0V2YWx1YXJlIENWJy4gQW5hbGl6xINtIGF1dG9tYXQgY29tcGF0aWJpbGl0YXRlYSBjdSBqb2J1cmkgZGluIENvbnN0cnVjdGlvbiwgSGVhbHRoY2FyZSwgSVQsIE1hbnVmYWN0dXJpbmcsIExvZ2lzdGljcyDImWkgSG9zcGl0YWxpdHkgw65uIERhbmVtYXJjYSwgR2VybWFuaWEsIE9sYW5kYSwgRnJhbsibYS4gT2ZlcmltIHNjb3IgMC0xMDAgyJlpIHN1Z2VzdGlpIHBlcnNvbmFsaXphdGUgcGVudHJ1IHRvYXRlIGluZHVzdHJpaWxlLlwiXG4gICAgfVxuXG4gICAgaWYgKGxvd2VyTWVzc2FnZS5pbmNsdWRlcygnZGFuZW1hcmNhJykgfHwgbG93ZXJNZXNzYWdlLmluY2x1ZGVzKCdnZXJtYW5pYScpIHx8IGxvd2VyTWVzc2FnZS5pbmNsdWRlcygnb2xhbmRhJykgfHwgbG93ZXJNZXNzYWdlLmluY2x1ZGVzKCdmcmFudGEnKSB8fCBsb3dlck1lc3NhZ2UuaW5jbHVkZXMoJ2V1cm9wYScpKSB7XG4gICAgICByZXR1cm4gXCJHxINzZciZdGkgZ2hpZHVyaSBjb21wbGV0ZSDDrm4gc2VjyJtpdW5lYSAnR2hpZCBFdXJvcGEnIHBlbnRydSB0b2F0ZSDIm8SDcmlsZTogQ29uc3RydWN0aW9uIMiZaSBIZWFsdGhjYXJlIMOubiBHZXJtYW5pYSwgSVQgyJlpIExvZ2lzdGljcyDDrm4gT2xhbmRhLCBNYW51ZmFjdHVyaW5nIMOubiBEYW5lbWFyY2EsIEhvc3BpdGFsaXR5IMOubiBGcmFuyJthLiBTYWxhcmlpIGNvbXBldGl0aXZlLCBzdXBvcnQgcmVsb2NhcmUgY29tcGxldCwgZsSDcsSDIHZpemUgcGVudHJ1IHJvbcOibmkuXCJcbiAgICB9XG5cbiAgICBpZiAobG93ZXJNZXNzYWdlLmluY2x1ZGVzKCdsb2N1cmknKSB8fCBsb3dlck1lc3NhZ2UuaW5jbHVkZXMoJ211bmPEgycpIHx8IGxvd2VyTWVzc2FnZS5pbmNsdWRlcygnam9iJykgfHwgbG93ZXJNZXNzYWdlLmluY2x1ZGVzKCdvcG9ydHVuaXTEg8ibaScpKSB7XG4gICAgICByZXR1cm4gXCJQbGF0Zm9ybWEgbm9hc3RyxIMgb2ZlcsSDIGpvYnVyaSB2ZXJpZmljYXRlIMOubiB0b2F0ZSBpbmR1c3RyaWlsZTogQ29uc3RydWN0aW9uICjigqwyLDgwMC3igqw0LDUwMCksIEhlYWx0aGNhcmUgKOKCrDIsNTAwLeKCrDQsMDAwKSwgSVQgKOKCrDMsMDAwLeKCrDYsMDAwKSwgTWFudWZhY3R1cmluZyAo4oKsMiwyMDAt4oKsMyw4MDApLCBMb2dpc3RpY3MgKOKCrDIsMDAwLeKCrDMsNTAwKS4gVG9hdGUgY3UgY29udHJhY3RlIFVFLWNvbXBsaWFudCDImWkgc3Vwb3J0IGNvbXBsZXQuXCJcbiAgICB9XG5cbiAgICBpZiAobG93ZXJNZXNzYWdlLmluY2x1ZGVzKCdzYWxhcml1JykgfHwgbG93ZXJNZXNzYWdlLmluY2x1ZGVzKCdiYW5pJykgfHwgbG93ZXJNZXNzYWdlLmluY2x1ZGVzKCdwbGF0YScpIHx8IGxvd2VyTWVzc2FnZS5pbmNsdWRlcygnc2FsYXJpZXMnKSkge1xuICAgICAgcmV0dXJuIFwiU2FsYXJpaWxlIGNvbXBldGl0aXZlIMOubiB0b2F0ZSBpbmR1c3RyaWlsZTogQ29uc3RydWN0aW9uIOKCrDIsODAwLTQsNTAwL2x1bsSDLCBIZWFsdGhjYXJlIOKCrDIsNTAwLTQsMDAwLCBJVCDigqwzLDAwMC02LDAwMCwgTWFudWZhY3R1cmluZyDigqwyLDIwMC0zLDgwMCwgTG9naXN0aWNzIOKCrDIsMDAwLTMsNTAwLiBQbHVzIGJlbmVmaWNpaTogMjUrIHppbGUgdmFjYW7Im8SDLCBhc2lndXJhcmUgbWVkaWNhbMSDLCBib251c3VyaSBwZXJmb3JtYW7Im8SDLlwiXG4gICAgfVxuXG4gICAgaWYgKGxvd2VyTWVzc2FnZS5pbmNsdWRlcygnY29uc3RydWPIm2lpJykgfHwgbG93ZXJNZXNzYWdlLmluY2x1ZGVzKCdjb25zdHJ1Y3Rpb24nKSB8fCBsb3dlck1lc3NhZ2UuaW5jbHVkZXMoJ2J1aWxkaW5nJykpIHtcbiAgICAgIHJldHVybiBcIlNwZWNpYWxpyJl0aSDDrm4gY29uc3RydWPIm2lpIGxhIG1hcmUgY8SDdXRhcmUgw65uIERhbmVtYXJjYSwgR2VybWFuaWEsIE9sYW5kYSwgRnJhbsibYS4gU2FsYXJpaSDigqwyLDgwMC00LDUwMC9sdW7EgyArIGNhemFyZSArIHRyYW5zcG9ydC4gRXhwZXJpZW7Im8SDIMOubiB6aWTEg3JpZSwgc3VkdXLEgywgaW5zdGFsYcibaWkgc2FuaXRhcmUsIGVsZWN0cmljaXRhdGUgZm9hcnRlIGFwcmVjaWF0xIMuIFBsYXNhbWVudGUgcmFwaWRlIGdhcmFudGF0ZS5cIlxuICAgIH1cblxuICAgIGlmIChsb3dlck1lc3NhZ2UuaW5jbHVkZXMoJ2hlYWx0aGNhcmUnKSB8fCBsb3dlck1lc3NhZ2UuaW5jbHVkZXMoJ21lZGljYWwnKSB8fCBsb3dlck1lc3NhZ2UuaW5jbHVkZXMoJ8OubmdyaWppcmUnKSB8fCBsb3dlck1lc3NhZ2UuaW5jbHVkZXMoJ3PEg27Eg3RhdGUnKSkge1xuICAgICAgcmV0dXJuIFwiT3BvcnR1bml0xIPIm2kgZXhjZWxlbnRlIMOubiBkb21lbml1bCBzYW5pdGFyOiBHZXJtYW5pYSDImWkgRnJhbsibYSBvZmVyxIMg4oKsMiw1MDAtNCwwMDAvbHVuxIMgcGVudHJ1IGFzaXN0ZW50ZSBtZWRpY2FsZSwgw65uZ3Jpaml0b2FyZSwgZmFybWFjaciZdGkuIENlcmVyZSBtYXJlLCBjb250cmFjdGUgc3RhYmlsZSwgdHJhaW5pbmcgaW5jbHVzLiBTdXBvcnQgcGVudHJ1IHJlY3Vub2HImXRlcmVhIGRpcGxvbWVsb3IuXCJcbiAgICB9XG5cbiAgICBpZiAobG93ZXJNZXNzYWdlLmluY2x1ZGVzKCdpdCcpIHx8IGxvd2VyTWVzc2FnZS5pbmNsdWRlcygndGVjaCcpIHx8IGxvd2VyTWVzc2FnZS5pbmNsdWRlcygncHJvZ3JhbWFyZScpIHx8IGxvd2VyTWVzc2FnZS5pbmNsdWRlcygnc29mdHdhcmUnKSkge1xuICAgICAgcmV0dXJuIFwiU2VjdG9ydWwgSVQgw65uIHBsaW7EgyBleHBhbnNpdW5lOiBPbGFuZGEgyJlpIEdlcm1hbmlhIG9mZXLEgyDigqwzLDAwMC02LDAwMC9sdW7EgyBwZW50cnUgZGV2ZWxvcGVyaSwgc3VwcG9ydCBJVCwgYWRtaW5pc3RyYXRvcmkgc2lzdGVtLiBDZXJpbsibZTogZW5nbGV6xIMgZmx1ZW50xIMsIGV4cGVyaWVuyJvEgyByZWxldmFudMSDLiBNdWx0ZSBjb21wYW5paSB0ZWNoIGludGVybmHIm2lvbmFsZSByZWNydXRlYXrEgyBhY3Rpdi5cIlxuICAgIH1cblxuICAgIGlmIChsb3dlck1lc3NhZ2UuaW5jbHVkZXMoJ2xvZ2lzdGljcycpIHx8IGxvd2VyTWVzc2FnZS5pbmNsdWRlcygndHJhbnNwb3J0JykgfHwgbG93ZXJNZXNzYWdlLmluY2x1ZGVzKCd3YXJlaG91c2UnKSkge1xuICAgICAgcmV0dXJuIFwiTG9naXN0aWPEgyDImWkgdHJhbnNwb3J0OiBPbGFuZGEgyJlpIEdlcm1hbmlhIG9mZXLEgyDigqwyLDAwMC0zLDUwMC9sdW7EgyBwZW50cnUgyJlvZmVyaSwgbWFuaXB1bGFuyJtpIG1hcmbEgywgY29vcmRvbmF0b3JpIGRlcG96aXQuIFBlcm1pcyBjb25kdWNlcmUgY2F0ZWdvcmlhIEIvQywgZW5nbGV6xIMgZGUgYmF6xIMuIFByb2dyYW0gc3RhYmlsLCBiZW5lZmljaWkgY29tcGxldGUuXCJcbiAgICB9XG5cbiAgICBpZiAobG93ZXJNZXNzYWdlLmluY2x1ZGVzKCdtYW51ZmFjdHVyaW5nJykgfHwgbG93ZXJNZXNzYWdlLmluY2x1ZGVzKCdwcm9kdWPIm2llJykgfHwgbG93ZXJNZXNzYWdlLmluY2x1ZGVzKCdmYWJyaWPEgycpKSB7XG4gICAgICByZXR1cm4gXCJJbmR1c3RyaWEgbWFudWZhY3R1cmluZzogR2VybWFuaWEgyJlpIERhbmVtYXJjYSBvZmVyxIMg4oKsMiwyMDAtMyw4MDAvbHVuxIMgcGVudHJ1IG9wZXJhdG9yaSBwcm9kdWPIm2llLCBjb250cm9sb3JpIGNhbGl0YXRlLCB0ZWhuaWNpZW5pIG1lbnRlbmFuyJvEgy4gRXhwZXJpZW7Im8SDIMOubiBwcm9kdWPIm2llIHVuIGF2YW50YWogbWFqb3IuIENvbnRyYWN0ZSBwZSB0ZXJtZW4gbHVuZy5cIlxuICAgIH1cblxuICAgIGlmIChsb3dlck1lc3NhZ2UuaW5jbHVkZXMoJ2xpbWLEgycpIHx8IGxvd2VyTWVzc2FnZS5pbmNsdWRlcygnbGFuZ3VhZ2UnKSB8fCBsb3dlck1lc3NhZ2UuaW5jbHVkZXMoJ2RhbmV6xIMnKSB8fCBsb3dlck1lc3NhZ2UuaW5jbHVkZXMoJ2dlcm1hbsSDJykpIHtcbiAgICAgIHJldHVybiBcIkNlcmluyJtlIGxpbmd2aXN0aWNlIHZhcmlhesSDOiBJVCDImWkgcG96acibaWkgc3BlY2lhbGl6YXRlIG5lY2VzaXTEgyBlbmdsZXrEgyBmbHVlbnTEgy4gUGVudHJ1IGNvbnN0cnVjyJtpaSwgbWFudWZhY3R1cmluZywgbG9naXN0aWPEgyAtIGVuZ2xlesSDIGRlIGJhesSDIChBMikgc3VmaWNpZW50xIMuIE9mZXJpbSBzdXBvcnQgbGluZ3Zpc3RpYyBncmF0dWl0IMiZaSB0cmFkdWNlcmkgYXV0b21hdGUuXCJcbiAgICB9XG5cbiAgICBpZiAobG93ZXJNZXNzYWdlLmluY2x1ZGVzKCdjYXphcmUnKSB8fCBsb3dlck1lc3NhZ2UuaW5jbHVkZXMoJ2xvY3VpbsibxIMnKSB8fCBsb3dlck1lc3NhZ2UuaW5jbHVkZXMoJ2FjY29tbW9kYXRpb24nKSkge1xuICAgICAgcmV0dXJuIFwiQ2F6YXJlIGFzaWd1cmF0xIMgZGUgYW5nYWphdG9yIMOubiB0b2F0ZSBpbmR1c3RyaWlsZTogYXBhcnRhbWVudGUgbW9kZXJuZSwgY8SDbWluZSBtdW5jaXRvcmXImXRpLCBjYXNlIGZhbWlsaWFsZS4gQ29zdCBsdW5hciDigqw0MDAtODAwIGRlZHVjdGliaWwgZGluIHNhbGFyaXUuIE11bHRlIGNvbXBhbmlpIG9mZXLEgyDImWkgbWFzxIMgyJlpIHRyYW5zcG9ydCBsYSBsb2N1bCBkZSBtdW5jxIMuXCJcbiAgICB9XG5cbiAgICBpZiAobG93ZXJNZXNzYWdlLmluY2x1ZGVzKCd0cmFuc3BvcnQnKSB8fCBsb3dlck1lc3NhZ2UuaW5jbHVkZXMoJ2RlcGxhc2FyZScpIHx8IGxvd2VyTWVzc2FnZS5pbmNsdWRlcygncmVsb2NhdGlvbicpKSB7XG4gICAgICByZXR1cm4gXCJTdXBvcnQgY29tcGxldCByZWxvY2FyZTogYmlsZXRlIGF2aW9uIHBsxIN0aXRlLCB0cmFuc3BvcnQgbG9jYWwgbGEgc29zaXJlLCBhanV0b3IgY3UgYWN0ZWxlIGFkbWluaXN0cmF0aXZlLiBDYSBjZXTEg8ibZWFuIFVFLCBwcm9jZXN1bCBlIHJhcGlkIC0gZG9hciDDrm5yZWdpc3RyYXJlIGxvY2FsxIMgw65uIDMtNSB6aWxlIGRlIGxhIHNvc2lyZS5cIlxuICAgIH1cblxuICAgIGlmIChsb3dlck1lc3NhZ2UuaW5jbHVkZXMoJ2RvY3VtZW50ZScpIHx8IGxvd2VyTWVzc2FnZS5pbmNsdWRlcygnYWN0ZScpIHx8IGxvd2VyTWVzc2FnZS5pbmNsdWRlcygnZG9jdW1lbnRzJykpIHtcbiAgICAgIHJldHVybiBcIkRvY3VtZW50ZSBuZWNlc2FyZTogcGHImWFwb3J0IHZhbGlkLCBDViBhY3R1YWxpemF0LCBkaXBsb21lL2NlcnRpZmljxINyaSByZWxldmFudGUuIFBlbnRydSBoZWFsdGhjYXJlOiByZWN1bm9hyJl0ZXJlYSBjYWxpZmljxINyaWxvci4gUGVudHJ1IHRyYW5zcG9ydDogcGVybWlzIGNvbmR1Y2VyZSBpbnRlcm5hyJtpb25hbC4gR2hpZCBjb21wbGV0IMOubiBzZWPIm2l1bmVhICdHaGlkIEV1cm9wYScuXCJcbiAgICB9XG5cbiAgICBpZiAobG93ZXJNZXNzYWdlLmluY2x1ZGVzKCdhZ2VuyJtpZScpIHx8IGxvd2VyTWVzc2FnZS5pbmNsdWRlcygnYWdlbmN5JykgfHwgbG93ZXJNZXNzYWdlLmluY2x1ZGVzKCdyZWNydWl0bWVudCcpKSB7XG4gICAgICByZXR1cm4gXCJBZ2VuyJtpZSBtdWx0aS1pbmR1c3RyaWUgY29tcGxldMSDOiBwbGFzYW1lbnRlIGdhcmFudGF0ZSDDrm4gQ29uc3RydWN0aW9uLCBIZWFsdGhjYXJlLCBJVCwgTWFudWZhY3R1cmluZywgTG9naXN0aWNzLiBDb21pc2lvbiAxNSUgZG9hciBsYSBwbGFzYXJlIHJldciZaXTEgywgQUkgbGVhZCBzY29yaW5nIHBlbnRydSBjb21wYW5paSwgZGFzaGJvYXJkIGF2YW5zYXQgcGVudHJ1IHRyYWNraW5nIMiZaSBhbmFseXRpY3MuXCJcbiAgICB9XG5cbiAgICByZXR1cm4gXCJUZSBwb3QgYWp1dGEgY3Ugb3BvcnR1bml0xIPIm2kgw65uIENvbnN0cnVjdGlvbiwgSGVhbHRoY2FyZSwgSVQsIE1hbnVmYWN0dXJpbmcsIExvZ2lzdGljcywgSG9zcGl0YWxpdHkgyJlpIGFsdGUgaW5kdXN0cmlpIGRpbiBEYW5lbWFyY2EsIEdlcm1hbmlhLCBPbGFuZGEsIEZyYW7Im2EuIFNwZWNpZmljxIMgaW5kdXN0cmlhIMiZaSDIm2FyYSBkb3JpdMSDIHBlbnRydSBpbmZvcm1hyJtpaSBkZXRhbGlhdGUgyJlpIG9mZXJ0ZSBwZXJzb25hbGl6YXRlLlwiXG4gIH1cblxuICAvLyBBZHZhbmNlZCBBSSBNYXRjaGluZyBFbmdpbmVcbiAgYXN5bmMgY2FsY3VsYXRlU21hcnRNYXRjaChjYW5kaWRhdGVJZDogc3RyaW5nLCBqb2JJZDogc3RyaW5nKTogUHJvbWlzZTxTbWFydE1hdGNoPiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFRoaXMgd291bGQgaW50ZWdyYXRlIHdpdGggYWN0dWFsIGNhbmRpZGF0ZSBhbmQgam9iIGRhdGEgZnJvbSBkYXRhYmFzZVxuICAgICAgY29uc3QgY2FuZGlkYXRlRGF0YSA9IGF3YWl0IHRoaXMuZ2V0Q2FuZGlkYXRlRGF0YShjYW5kaWRhdGVJZClcbiAgICAgIGNvbnN0IGpvYkRhdGEgPSBhd2FpdCB0aGlzLmdldEpvYkRhdGEoam9iSWQpXG5cbiAgICAgIC8vIEdlbmVyYXRlIGVtYmVkZGluZ3MgZm9yIHNlbWFudGljIG1hdGNoaW5nXG4gICAgICBjb25zdCBjYW5kaWRhdGVFbWJlZGRpbmcgPSBhd2FpdCB0aGlzLmdlbmVyYXRlRW1iZWRkaW5nKGNhbmRpZGF0ZURhdGEuZGVzY3JpcHRpb24pXG4gICAgICBjb25zdCBqb2JFbWJlZGRpbmcgPSBhd2FpdCB0aGlzLmdlbmVyYXRlRW1iZWRkaW5nKGpvYkRhdGEuZGVzY3JpcHRpb24pXG5cbiAgICAgIC8vIENhbGN1bGF0ZSBzaW1pbGFyaXR5IHNjb3Jlc1xuICAgICAgY29uc3Qgc2tpbGxTaW1pbGFyaXR5ID0gdGhpcy5jYWxjdWxhdGVDb3NpbmVTaW1pbGFyaXR5KGNhbmRpZGF0ZUVtYmVkZGluZywgam9iRW1iZWRkaW5nKVxuICAgICAgY29uc3QgZXhwZXJpZW5jZVNjb3JlID0gdGhpcy5zY29yZUV4cGVyaWVuY2UoY2FuZGlkYXRlRGF0YSwgam9iRGF0YSlcbiAgICAgIGNvbnN0IGxvY2F0aW9uU2NvcmUgPSB0aGlzLnNjb3JlTG9jYXRpb24oY2FuZGlkYXRlRGF0YSwgam9iRGF0YSlcbiAgICAgIGNvbnN0IGN1bHR1cmFsRml0ID0gdGhpcy5zY29yZUN1bHR1cmFsRml0KGNhbmRpZGF0ZURhdGEsIGpvYkRhdGEpXG4gICAgICBjb25zdCBsYW5ndWFnZVNjb3JlID0gdGhpcy5zY29yZUxhbmd1YWdlQ29tcGF0aWJpbGl0eShjYW5kaWRhdGVEYXRhLCBqb2JEYXRhKVxuICAgICAgY29uc3Qgc2FsYXJ5Rml0ID0gdGhpcy5zY29yZVNhbGFyeUV4cGVjdGF0aW9ucyhjYW5kaWRhdGVEYXRhLCBqb2JEYXRhKVxuXG4gICAgICAvLyBNYWNoaW5lIGxlYXJuaW5nIHByZWRpY3Rpb24gb2Ygc3VjY2VzcyByYXRlXG4gICAgICBjb25zdCBzdWNjZXNzUHJlZGljdGlvbiA9IHRoaXMucHJlZGljdFBsYWNlbWVudFN1Y2Nlc3Moe1xuICAgICAgICBza2lsbFNpbWlsYXJpdHksXG4gICAgICAgIGV4cGVyaWVuY2VTY29yZSxcbiAgICAgICAgbG9jYXRpb25TY29yZSxcbiAgICAgICAgY3VsdHVyYWxGaXQsXG4gICAgICAgIGxhbmd1YWdlU2NvcmUsXG4gICAgICAgIHNhbGFyeUZpdFxuICAgICAgfSlcblxuICAgICAgLy8gT3ZlcmFsbCB3ZWlnaHRlZCBzY29yZVxuICAgICAgY29uc3Qgb3ZlcmFsbFNjb3JlID0gTWF0aC5yb3VuZChcbiAgICAgICAgc2tpbGxTaW1pbGFyaXR5ICogMC4yNSArXG4gICAgICAgIGV4cGVyaWVuY2VTY29yZSAqIDAuMjAgK1xuICAgICAgICBsb2NhdGlvblNjb3JlICogMC4xNSArXG4gICAgICAgIGN1bHR1cmFsRml0ICogMC4xNSArXG4gICAgICAgIGxhbmd1YWdlU2NvcmUgKiAwLjE1ICtcbiAgICAgICAgc2FsYXJ5Rml0ICogMC4xMFxuICAgICAgKVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBjYW5kaWRhdGVJZCxcbiAgICAgICAgam9iSWQsXG4gICAgICAgIG92ZXJhbGxTY29yZTogTWF0aC5taW4oMTAwLCBNYXRoLm1heCgwLCBvdmVyYWxsU2NvcmUpKSxcbiAgICAgICAgc2tpbGxNYXRjaDogc2tpbGxTaW1pbGFyaXR5LFxuICAgICAgICBleHBlcmllbmNlTWF0Y2g6IGV4cGVyaWVuY2VTY29yZSxcbiAgICAgICAgbG9jYXRpb25Db21wYXRpYmlsaXR5OiBsb2NhdGlvblNjb3JlLFxuICAgICAgICBjdWx0dXJhbEZpdCxcbiAgICAgICAgbGFuZ3VhZ2VDb21wYXRpYmlsaXR5OiBsYW5ndWFnZVNjb3JlLFxuICAgICAgICBzYWxhcnlFeHBlY3RhdGlvbnM6IHNhbGFyeUZpdCxcbiAgICAgICAgc3VjY2Vzc1ByZWRpY3Rpb24sXG4gICAgICAgIHJlY29tbWVuZGF0aW9uczogdGhpcy5nZW5lcmF0ZU1hdGNoUmVjb21tZW5kYXRpb25zKG92ZXJhbGxTY29yZSwgY2FuZGlkYXRlRGF0YSwgam9iRGF0YSksXG4gICAgICAgIHJlZEZsYWdzOiB0aGlzLmlkZW50aWZ5UmVkRmxhZ3MoY2FuZGlkYXRlRGF0YSwgam9iRGF0YSlcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignU21hcnQgTWF0Y2ggRXJyb3I6JywgZXJyb3IpXG4gICAgICAvLyBGYWxsYmFjayBtYXRjaFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY2FuZGlkYXRlSWQsXG4gICAgICAgIGpvYklkLFxuICAgICAgICBvdmVyYWxsU2NvcmU6IDUwLFxuICAgICAgICBza2lsbE1hdGNoOiA1MCxcbiAgICAgICAgZXhwZXJpZW5jZU1hdGNoOiA1MCxcbiAgICAgICAgbG9jYXRpb25Db21wYXRpYmlsaXR5OiA1MCxcbiAgICAgICAgY3VsdHVyYWxGaXQ6IDUwLFxuICAgICAgICBsYW5ndWFnZUNvbXBhdGliaWxpdHk6IDUwLFxuICAgICAgICBzYWxhcnlFeHBlY3RhdGlvbnM6IDUwLFxuICAgICAgICBzdWNjZXNzUHJlZGljdGlvbjogNTAsXG4gICAgICAgIHJlY29tbWVuZGF0aW9uczogWydGYWxsYmFjayBtYXRjaGluZyAtIG5lZWRzIHJldmlldyddXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gQUktUG93ZXJlZCBMZWFkIFNjb3JpbmcgZm9yIENvbXBhbmllc1xuICBhc3luYyBzY29yZUxlYWQoY29tcGFueUlkOiBzdHJpbmcpOiBQcm9taXNlPExlYWRTY29yZT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb21wYW55RGF0YSA9IGF3YWl0IHRoaXMuZ2V0Q29tcGFueURhdGEoY29tcGFueUlkKVxuXG4gICAgICAvLyBBbmFseXplIGNvbXBhbnkgZmluYW5jaWFsIGluZGljYXRvcnNcbiAgICAgIGNvbnN0IGZpbmFuY2lhbEhlYWx0aCA9IGF3YWl0IHRoaXMuYW5hbHl6ZUZpbmFuY2lhbEhlYWx0aChjb21wYW55RGF0YSlcblxuICAgICAgLy8gQXNzZXNzIGhpcmluZyB1cmdlbmN5IGZyb20gam9iIHBvc3RpbmdzIGFuZCB3ZWJzaXRlXG4gICAgICBjb25zdCBoaXJpbmdVcmdlbmN5ID0gYXdhaXQgdGhpcy5hbmFseXplV2Vic2l0ZUZvclVyZ2VuY3koY29tcGFueURhdGEpXG5cbiAgICAgIC8vIEV2YWx1YXRlIHJlbG9jYXRpb24gc3VwcG9ydCBjYXBhYmlsaXRpZXNcbiAgICAgIGNvbnN0IHJlbG9jYXRpb25TdXBwb3J0ID0gdGhpcy5ldmFsdWF0ZVJlbG9jYXRpb25TdXBwb3J0KGNvbXBhbnlEYXRhKVxuXG4gICAgICAvLyBBbmFseXplIGNvbW11bmljYXRpb24gcXVhbGl0eVxuICAgICAgY29uc3QgY29tbXVuaWNhdGlvblNjb3JlID0gdGhpcy5hbmFseXplQ29tbXVuaWNhdGlvblF1YWxpdHkoY29tcGFueURhdGEpXG5cbiAgICAgIC8vIEluZHVzdHJ5IGFuZCBzaXplIGNvbXBhdGliaWxpdHkgd2l0aCBSb21hbmlhbiB0YWxlbnRcbiAgICAgIGNvbnN0IGluZHVzdHJ5TWF0Y2ggPSB0aGlzLnNjb3JlSW5kdXN0cnlDb21wYXRpYmlsaXR5KGNvbXBhbnlEYXRhKVxuICAgICAgY29uc3Qgc2l6ZUNvbXBhdGliaWxpdHkgPSB0aGlzLnNjb3JlQ29tcGFueVNpemUoY29tcGFueURhdGEpXG5cbiAgICAgIC8vIE92ZXJhbGwgQUktZHJpdmVuIHNjb3JlXG4gICAgICBjb25zdCBvdmVyYWxsRml0ID0gTWF0aC5yb3VuZChcbiAgICAgICAgZmluYW5jaWFsSGVhbHRoICogMC4yNSArXG4gICAgICAgIGhpcmluZ1VyZ2VuY3kgKiAwLjIwICtcbiAgICAgICAgcmVsb2NhdGlvblN1cHBvcnQgKiAwLjIwICtcbiAgICAgICAgY29tbXVuaWNhdGlvblNjb3JlICogMC4xNSArXG4gICAgICAgIGluZHVzdHJ5TWF0Y2ggKiAwLjEwICtcbiAgICAgICAgc2l6ZUNvbXBhdGliaWxpdHkgKiAwLjEwXG4gICAgICApXG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbXBhbnlJZCxcbiAgICAgICAgb3ZlcmFsbEZpdDogTWF0aC5taW4oMTAwLCBNYXRoLm1heCgwLCBvdmVyYWxsRml0KSksXG4gICAgICAgIGZpbmFuY2lhbEhlYWx0aCxcbiAgICAgICAgaGlyaW5nVXJnZW5jeSxcbiAgICAgICAgcmVsb2NhdGlvblN1cHBvcnQsXG4gICAgICAgIGNvbW11bmljYXRpb25TY29yZSxcbiAgICAgICAgaW5kdXN0cnlNYXRjaCxcbiAgICAgICAgc2l6ZUNvbXBhdGliaWxpdHksXG4gICAgICAgIHJlYXNvbnM6IHRoaXMuZ2VuZXJhdGVMZWFkU2NvcmVSZWFzb25zKHtcbiAgICAgICAgICBmaW5hbmNpYWxIZWFsdGgsXG4gICAgICAgICAgaGlyaW5nVXJnZW5jeSxcbiAgICAgICAgICByZWxvY2F0aW9uU3VwcG9ydCxcbiAgICAgICAgICBjb21tdW5pY2F0aW9uU2NvcmUsXG4gICAgICAgICAgaW5kdXN0cnlNYXRjaCxcbiAgICAgICAgICBzaXplQ29tcGF0aWJpbGl0eVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdMZWFkIFNjb3JpbmcgRXJyb3I6JywgZXJyb3IpXG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb21wYW55SWQsXG4gICAgICAgIG92ZXJhbGxGaXQ6IDUwLFxuICAgICAgICBmaW5hbmNpYWxIZWFsdGg6IDUwLFxuICAgICAgICBoaXJpbmdVcmdlbmN5OiA1MCxcbiAgICAgICAgcmVsb2NhdGlvblN1cHBvcnQ6IDUwLFxuICAgICAgICBjb21tdW5pY2F0aW9uU2NvcmU6IDUwLFxuICAgICAgICBpbmR1c3RyeU1hdGNoOiA1MCxcbiAgICAgICAgc2l6ZUNvbXBhdGliaWxpdHk6IDUwLFxuICAgICAgICByZWFzb25zOiBbJ1Njb3JlIGNhbGN1bGF0ZWQgd2l0aCBsaW1pdGVkIGRhdGEnXVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIEFkdmFuY2VkIENWIEFuYWx5c2lzIHdpdGggQUlcbiAgYXN5bmMgYW5hbHl6ZUNWKGNvbnRlbnQ6IHN0cmluZywgY291bnRyeT86IHN0cmluZyk6IFByb21pc2U8Q1ZBbmFseXNpcz4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwcm9tcHQgPSBgXG4gICAgICAgIEFuYWx5emUgdGhpcyBDVi9yZXN1bWUgY29udGVudCBhbmQgcHJvdmlkZSBhIHN0cnVjdHVyZWQgYXNzZXNzbWVudCBmb3IgRXVyb3BlYW4gam9iIG1hcmtldCBjb21wYXRpYmlsaXR5LlxuICAgICAgICBGb2N1cyBvbjogJHtjb3VudHJ5ID8gYGNvbXBhdGliaWxpdHkgd2l0aCAke2NvdW50cnl9YCA6ICdFdXJvcGVhbiBqb2IgbWFya2V0J31cblxuICAgICAgICBDViBDb250ZW50OlxuICAgICAgICAke2NvbnRlbnR9XG5cbiAgICAgICAgUHJvdmlkZSBhbmFseXNpcyBpbiB0aGlzIGV4YWN0IEpTT04gZm9ybWF0OlxuICAgICAgICB7XG4gICAgICAgICAgXCJza2lsbHNcIjogW1wic2tpbGwxXCIsIFwic2tpbGwyXCIsIC4uLl0sXG4gICAgICAgICAgXCJleHBlcmllbmNlXCI6IFtcImV4cDFcIiwgXCJleHAyXCIsIC4uLl0sXG4gICAgICAgICAgXCJlZHVjYXRpb25cIjogW1wiZWR1MVwiLCBcImVkdTJcIiwgLi4uXSxcbiAgICAgICAgICBcImxhbmd1YWdlc1wiOiB7XCJyb21hbmlhblwiOiBcIm5hdGl2ZVwiLCBcImVuZ2xpc2hcIjogXCJpbnRlcm1lZGlhdGVcIn0sXG4gICAgICAgICAgXCJjZXJ0aWZpY2F0aW9uc1wiOiBbXCJjZXJ0MVwiLCBcImNlcnQyXCIsIC4uLl0sXG4gICAgICAgICAgXCJzY29yZVwiOiA4NSxcbiAgICAgICAgICBcInJlY29tbWVuZGF0aW9uc1wiOiBbXCJyZWMxXCIsIFwicmVjMlwiLCAuLi5dLFxuICAgICAgICAgIFwiam9iQ29tcGF0aWJpbGl0eVwiOiB7XCJnZW5lcmFsX2xhYm91clwiOiA5MCwgXCJza2lsbGVkX3RyYWRlc1wiOiA3NSwgXCJtYW5hZ2VtZW50XCI6IDYwfVxuICAgICAgICB9XG4gICAgICBgXG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5nZW5lcmF0ZVJlc3BvbnNlKHByb21wdClcblxuICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkQW5hbHlzaXMgPSBKU09OLnBhcnNlKHJlc3BvbnNlLmNvbnRlbnQpXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc2tpbGxzOiBwYXJzZWRBbmFseXNpcy5za2lsbHMgfHwgW10sXG4gICAgICAgICAgZXhwZXJpZW5jZTogcGFyc2VkQW5hbHlzaXMuZXhwZXJpZW5jZSB8fCBbXSxcbiAgICAgICAgICBlZHVjYXRpb246IHBhcnNlZEFuYWx5c2lzLmVkdWNhdGlvbiB8fCBbXSxcbiAgICAgICAgICBsYW5ndWFnZXM6IHBhcnNlZEFuYWx5c2lzLmxhbmd1YWdlcyB8fCB7fSxcbiAgICAgICAgICBjZXJ0aWZpY2F0aW9uczogcGFyc2VkQW5hbHlzaXMuY2VydGlmaWNhdGlvbnMgfHwgW10sXG4gICAgICAgICAgc2NvcmU6IE1hdGgubWluKDEwMCwgTWF0aC5tYXgoMCwgcGFyc2VkQW5hbHlzaXMuc2NvcmUgfHwgNTApKSxcbiAgICAgICAgICByZWNvbW1lbmRhdGlvbnM6IHBhcnNlZEFuYWx5c2lzLnJlY29tbWVuZGF0aW9ucyB8fCBbXSxcbiAgICAgICAgICBqb2JDb21wYXRpYmlsaXR5OiBwYXJzZWRBbmFseXNpcy5qb2JDb21wYXRpYmlsaXR5IHx8IHt9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQUkgYW5hbHlzaXMgZmFpbGVkJylcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignQ1YgQW5hbHlzaXMgRXJyb3I6JywgZXJyb3IpXG4gICAgICAvLyBGYWxsYmFjayBiYXNpYyBhbmFseXNpc1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc2tpbGxzOiBbXSxcbiAgICAgICAgZXhwZXJpZW5jZTogW10sXG4gICAgICAgIGVkdWNhdGlvbjogW10sXG4gICAgICAgIGxhbmd1YWdlczoge30sXG4gICAgICAgIGNlcnRpZmljYXRpb25zOiBbXSxcbiAgICAgICAgc2NvcmU6IDYwLFxuICAgICAgICByZWNvbW1lbmRhdGlvbnM6IFsnVXBsb2FkIGEgY29tcGxldGUgQ1YgZm9yIGRldGFpbGVkIEFJIGFuYWx5c2lzJ10sXG4gICAgICAgIGpvYkNvbXBhdGliaWxpdHk6IHtcbiAgICAgICAgICBnZW5lcmFsX2xhYm91cjogNzAsXG4gICAgICAgICAgc2tpbGxlZF90cmFkZXM6IDY1LFxuICAgICAgICAgIG1hbmFnZW1lbnQ6IDU1XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBQcmVkaWN0aXZlIEFuYWx5dGljcyBmb3IgUGxhY2VtZW50IFN1Y2Nlc3NcbiAgYXN5bmMgcHJlZGljdFN1Y2Nlc3NSYXRlKG1hdGNoOiBTbWFydE1hdGNoLCBoaXN0b3JpY2FsRGF0YT86IGFueVtdKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICB0cnkge1xuICAgICAgLy8gVGhpcyB3b3VsZCB1c2UgTUwgbW9kZWxzIHRyYWluZWQgb24gcGxhY2VtZW50IGRhdGFcbiAgICAgIGNvbnN0IHdlaWdodEZhY3RvcnMgPSB7XG4gICAgICAgIG92ZXJhbGxTY29yZTogMC4zMCxcbiAgICAgICAgc2tpbGxNYXRjaDogMC4yNSxcbiAgICAgICAgZXhwZXJpZW5jZU1hdGNoOiAwLjIwLFxuICAgICAgICBsb2NhdGlvbkNvbXBhdGliaWxpdHk6IDAuMTAsXG4gICAgICAgIGN1bHR1cmFsRml0OiAwLjEwLFxuICAgICAgICBsYW5ndWFnZUNvbXBhdGliaWxpdHk6IDAuMDVcbiAgICAgIH1cblxuICAgICAgbGV0IHN1Y2Nlc3NSYXRlID1cbiAgICAgICAgbWF0Y2gub3ZlcmFsbFNjb3JlICogd2VpZ2h0RmFjdG9ycy5vdmVyYWxsU2NvcmUgK1xuICAgICAgICBtYXRjaC5za2lsbE1hdGNoICogd2VpZ2h0RmFjdG9ycy5za2lsbE1hdGNoICtcbiAgICAgICAgbWF0Y2guZXhwZXJpZW5jZU1hdGNoICogd2VpZ2h0RmFjdG9ycy5leHBlcmllbmNlTWF0Y2ggK1xuICAgICAgICBtYXRjaC5sb2NhdGlvbkNvbXBhdGliaWxpdHkgKiB3ZWlnaHRGYWN0b3JzLmxvY2F0aW9uQ29tcGF0aWJpbGl0eSArXG4gICAgICAgIG1hdGNoLmN1bHR1cmFsRml0ICogd2VpZ2h0RmFjdG9ycy5jdWx0dXJhbEZpdCArXG4gICAgICAgIG1hdGNoLmxhbmd1YWdlQ29tcGF0aWJpbGl0eSAqIHdlaWdodEZhY3RvcnMubGFuZ3VhZ2VDb21wYXRpYmlsaXR5XG5cbiAgICAgIC8vIEFwcGx5IGhpc3RvcmljYWwgYWRqdXN0bWVudCBpZiBhdmFpbGFibGVcbiAgICAgIGlmIChoaXN0b3JpY2FsRGF0YSkge1xuICAgICAgICBjb25zdCBoaXN0b3JpY2FsQWRqdXN0bWVudCA9IHRoaXMuY2FsY3VsYXRlSGlzdG9yaWNhbEFkanVzdG1lbnQobWF0Y2gsIGhpc3RvcmljYWxEYXRhKVxuICAgICAgICBzdWNjZXNzUmF0ZSA9IChzdWNjZXNzUmF0ZSAqIDAuOCkgKyAoaGlzdG9yaWNhbEFkanVzdG1lbnQgKiAwLjIpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBNYXRoLm1pbigxMDAsIE1hdGgubWF4KDAsIE1hdGgucm91bmQoc3VjY2Vzc1JhdGUpKSlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignU3VjY2VzcyBQcmVkaWN0aW9uIEVycm9yOicsIGVycm9yKVxuICAgICAgcmV0dXJuIDUwIC8vIE5ldXRyYWwgZmFsbGJhY2tcbiAgICB9XG4gIH1cblxuICAvLyBIZWxwZXIgTWV0aG9kcyBmb3IgQUkgQ2FsY3VsYXRpb25zXG4gIHByaXZhdGUgYXN5bmMgZ2VuZXJhdGVFbWJlZGRpbmcodGV4dDogc3RyaW5nKTogUHJvbWlzZTxudW1iZXJbXT4ge1xuICAgIC8vIFBsYWNlaG9sZGVyOiBJbiBwcm9kdWN0aW9uLCBjYWxsIE9wZW5Sb3V0ZXIgZW1iZWRkaW5nIEFQSVxuICAgIC8vIEZvciBub3csIHJldHVybiBtb2NrIHZlY3RvciBiYXNlZCBvbiB0ZXh0IGxlbmd0aCBmb3IgY29uc2lzdGVuY3lcbiAgICBjb25zdCBzZWVkID0gdGV4dC5sZW5ndGggKyB0ZXh0LnNwbGl0KCcgJykubGVuZ3RoXG4gICAgY29uc3QgcmFuZG9tID0gc2VlZCAqIDAuMDFcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh7bGVuZ3RoOiAxNTM2fSwgKF8sIGkpID0+IE1hdGguc2luKChpICsgc2VlZCkgKiByYW5kb20pICogMiAtIDEpO1xuICB9XG5cbiAgcHJpdmF0ZSBjYWxjdWxhdGVDb3NpbmVTaW1pbGFyaXR5KHZlY0E6IG51bWJlcltdLCB2ZWNCOiBudW1iZXJbXSk6IG51bWJlciB7XG4gICAgaWYgKHZlY0EubGVuZ3RoICE9PSB2ZWNCLmxlbmd0aCkgcmV0dXJuIDUwXG5cbiAgICBsZXQgZG90UHJvZHVjdCA9IDBcbiAgICBsZXQgbm9ybUEgPSAwXG4gICAgbGV0IG5vcm1CID0gMFxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZWNBLmxlbmd0aDsgaSsrKSB7XG4gICAgICBkb3RQcm9kdWN0ICs9IHZlY0FbaV0gKiB2ZWNCW2ldXG4gICAgICBub3JtQSArPSB2ZWNBW2ldICogdmVjQVtpXVxuICAgICAgbm9ybUIgKz0gdmVjQltpXSAqIHZlY0JbaV1cbiAgICB9XG5cbiAgICBpZiAobm9ybUEgPT09IDAgfHwgbm9ybUIgPT09IDApIHJldHVybiA1MFxuXG4gICAgcmV0dXJuIE1hdGgucm91bmQoKChkb3RQcm9kdWN0IC8gKE1hdGguc3FydChub3JtQSkgKiBNYXRoLnNxcnQobm9ybUIpKSkgKiAwLjUgKyAwLjUpICogMTAwKVxuICB9XG5cbiAgcHJpdmF0ZSBzY29yZUV4cGVyaWVuY2UoY2FuZGlkYXRlOiBhbnksIGpvYjogYW55KTogbnVtYmVyIHtcbiAgICAvLyBDb21wbGV4IGV4cGVyaWVuY2Ugc2NvcmluZyBsb2dpY1xuICAgIGNvbnN0IGNhbmRpZGF0ZUV4cCA9IGNhbmRpZGF0ZS5leHBlcmllbmNlWWVhcnMgfHwgMFxuICAgIGNvbnN0IGpvYkV4cCA9IGpvYi5leHBlcmllbmNlUmVxdWlyZWQgfHwgMFxuXG4gICAgaWYgKGNhbmRpZGF0ZUV4cCA+PSBqb2JFeHApIHJldHVybiAxMDBcbiAgICBpZiAoY2FuZGlkYXRlRXhwID49IGpvYkV4cCAqIDAuOCkgcmV0dXJuIDgwXG4gICAgaWYgKGNhbmRpZGF0ZUV4cCA+PSBqb2JFeHAgKiAwLjUpIHJldHVybiA2MFxuICAgIHJldHVybiBNYXRoLm1heCgyMCwgKGNhbmRpZGF0ZUV4cCAvIGpvYkV4cCkgKiAxMDApXG4gIH1cblxuICBwcml2YXRlIHNjb3JlTG9jYXRpb24oY2FuZGlkYXRlOiBhbnksIGpvYjogYW55KTogbnVtYmVyIHtcbiAgICAvLyBFdmFsdWF0ZSB3aWxsaW5nbmVzcyB0byByZWxvY2F0ZSwgdHJhbnNwb3J0YXRpb24gY29zdHMsIGV0Yy5cbiAgICBpZiAoIWNhbmRpZGF0ZS53aWxsaW5nVG9SZWxvY2F0ZSAmJiBqb2IuY291bnRyeSAhPT0gY2FuZGlkYXRlLmN1cnJlbnRDb3VudHJ5KSByZXR1cm4gMzBcbiAgICBpZiAoam9iLmNvdW50cnkgPT09IGNhbmRpZGF0ZS5jdXJyZW50Q291bnRyeSkgcmV0dXJuIDEwMFxuICAgIHJldHVybiA4NSAvLyBBc3N1bWluZyB3aWxsaW5nbmVzcyB0byByZWxvY2F0ZSBmb3IgYmV0dGVyIG9wcG9ydHVuaXRpZXNcbiAgfVxuXG4gIHByaXZhdGUgc2NvcmVDdWx0dXJhbEZpdChjYW5kaWRhdGU6IGFueSwgam9iOiBhbnkpOiBudW1iZXIge1xuICAgIC8vIFRoaXMgd291bGQgYW5hbHl6ZSBjdWx0dXJhbCBpbmRpY2F0b3JzXG4gICAgbGV0IHNjb3JlID0gNzAgLy8gQmFzZSBzY29yZVxuXG4gICAgLy8gQWRqdXN0IGJhc2VkIG9uIHBlcnNvbmFsaXR5IHRyYWl0cyB2cyBjb21wYW55IGN1bHR1cmVcbiAgICBpZiAoY2FuZGlkYXRlLndvcmtpbmdQYXR0ZXJucyA9PT0gam9iLndvcmtDdWx0dXJlKSBzY29yZSArPSAyMFxuICAgIGlmIChjYW5kaWRhdGUubW90aXZhdGlvbkFsaWdubWVudCA9PT0gam9iLmNvbXBhbnlWYWx1ZXMpIHNjb3JlICs9IDEwXG5cbiAgICByZXR1cm4gTWF0aC5taW4oMTAwLCBNYXRoLm1heCg0MCwgc2NvcmUpKVxuICB9XG5cbiAgcHJpdmF0ZSBzY29yZUxhbmd1YWdlQ29tcGF0aWJpbGl0eShjYW5kaWRhdGU6IGFueSwgam9iOiBhbnkpOiBudW1iZXIge1xuICAgIC8vIExhbmd1YWdlIHJlcXVpcmVtZW50cyBzY29yaW5nXG4gICAgY29uc3QgbWFya2V0ID0gdGhpcy5ldXJvcGVhbk1hcmtldHNbam9iLmNvdW50cnk/LnRvTG93ZXJDYXNlKCkgYXMga2V5b2YgdHlwZW9mIHRoaXMuZXVyb3BlYW5NYXJrZXRzXVxuICAgIGlmICghbWFya2V0KSByZXR1cm4gNzBcblxuICAgIGNvbnN0IHJlcXVpcmVkTGFuZ3VhZ2UgPSBqb2IucmVxdWlyZWRMYW5ndWFnZSB8fCAnZW5nbGlzaCdcbiAgICBjb25zdCBjYW5kaWRhdGVMZXZlbHMgPSBjYW5kaWRhdGUubGFuZ3VhZ2VzIHx8IHt9XG5cbiAgICBjb25zdCBsZXZlbCA9IGNhbmRpZGF0ZUxldmVsc1tyZXF1aXJlZExhbmd1YWdlXT8udG9Mb3dlckNhc2UoKVxuICAgIHN3aXRjaCAobGV2ZWwpIHtcbiAgICAgIGNhc2UgJ25hdGl2ZSc6IHJldHVybiAxMDBcbiAgICAgIGNhc2UgJ2ZsdWVudCc6XG4gICAgICBjYXNlICdwcm9maWNpZW50JzogcmV0dXJuIDkwXG4gICAgICBjYXNlICdhZHZhbmNlZCc6IHJldHVybiA4NVxuICAgICAgY2FzZSAnaW50ZXJtZWRpYXRlJzogcmV0dXJuIDcwXG4gICAgICBjYXNlICdiYXNpYyc6IHJldHVybiBtYXJrZXQubGFuZ3VhZ2VJbXBvcnRhbmNlID09PSAnaGlnaCcgPyA0MCA6IDYwXG4gICAgICBkZWZhdWx0OiByZXR1cm4gNTBcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHNjb3JlU2FsYXJ5RXhwZWN0YXRpb25zKGNhbmRpZGF0ZTogYW55LCBqb2I6IGFueSk6IG51bWJlciB7XG4gICAgY29uc3QgY2FuZGlkYXRlU2FsYXJ5ID0gY2FuZGlkYXRlLmV4cGVjdGVkU2FsYXJ5IHx8IDIwMDBcbiAgICBjb25zdCBqb2JTYWxhcnkgPSBqb2Iub2ZmZXJlZFNhbGFyeSB8fCAyNTAwXG5cbiAgICBpZiAoY2FuZGlkYXRlU2FsYXJ5IDw9IGpvYlNhbGFyeSkgcmV0dXJuIDEwMFxuICAgIGlmIChjYW5kaWRhdGVTYWxhcnkgPD0gam9iU2FsYXJ5ICogMS4yKSByZXR1cm4gODBcbiAgICBpZiAoY2FuZGlkYXRlU2FsYXJ5IDw9IGpvYlNhbGFyeSAqIDEuNSkgcmV0dXJuIDYwXG4gICAgcmV0dXJuIE1hdGgubWF4KDIwLCAoam9iU2FsYXJ5IC8gY2FuZGlkYXRlU2FsYXJ5KSAqIDEwMClcbiAgfVxuXG4gIHByaXZhdGUgcHJlZGljdFBsYWNlbWVudFN1Y2Nlc3MoZmFjdG9yczogYW55KTogbnVtYmVyIHtcbiAgICAvLyBNTC1iYXNlZCBwcmVkaWN0aW9uIGFsZ29yaXRobVxuICAgIGNvbnN0IHtcbiAgICAgIHNraWxsU2ltaWxhcml0eSxcbiAgICAgIGV4cGVyaWVuY2VTY29yZSxcbiAgICAgIGxvY2F0aW9uU2NvcmUsXG4gICAgICBjdWx0dXJhbEZpdCxcbiAgICAgIGxhbmd1YWdlU2NvcmUsXG4gICAgICBzYWxhcnlGaXRcbiAgICB9ID0gZmFjdG9yc1xuXG4gICAgLy8gV2VpZ2h0ZWQgcHJlZGljdGlvbiBhbGdvcml0aG1cbiAgICByZXR1cm4gTWF0aC5yb3VuZChcbiAgICAgIHNraWxsU2ltaWxhcml0eSAqIDAuMjUgK1xuICAgICAgZXhwZXJpZW5jZVNjb3JlICogMC4yNSArXG4gICAgICBjdWx0dXJhbEZpdCAqIDAuMiArXG4gICAgICBsYW5ndWFnZVNjb3JlICogMC4xNSArXG4gICAgICBsb2NhdGlvblNjb3JlICogMC4xICtcbiAgICAgIHNhbGFyeUZpdCAqIDAuMDVcbiAgICApXG4gIH1cblxuICBwcml2YXRlIGdlbmVyYXRlTWF0Y2hSZWNvbW1lbmRhdGlvbnMoc2NvcmU6IG51bWJlciwgY2FuZGlkYXRlOiBhbnksIGpvYjogYW55KTogc3RyaW5nW10ge1xuICAgIGNvbnN0IHJlY29tbWVuZGF0aW9ucyA9IFtdXG5cbiAgICBpZiAoc2NvcmUgPCA2MCkge1xuICAgICAgcmVjb21tZW5kYXRpb25zLnB1c2goJ0NvbnNpZGVyIHNraWxsIGRldmVsb3BtZW50IG9yIGFkZGl0aW9uYWwgdHJhaW5pbmcnKVxuICAgICAgaWYgKGpvYi5leHBlcmllbmNlUmVxdWlyZWQgPiBjYW5kaWRhdGUuZXhwZXJpZW5jZVllYXJzKSB7XG4gICAgICAgIHJlY29tbWVuZGF0aW9ucy5wdXNoKCdCdWlsZCBtb3JlIGV4cGVyaWVuY2UgYmVmb3JlIGFwcGx5aW5nJylcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHNjb3JlIDwgODApIHtcbiAgICAgIHJlY29tbWVuZGF0aW9ucy5wdXNoKCdTdHJvbmcgY2FuZGlkYXRlIC0gY29uc2lkZXIgZm9yIGludGVydmlldycpXG4gICAgICByZWNvbW1lbmRhdGlvbnMucHVzaCgnTGFuZ3VhZ2UgdHJhaW5pbmcgbWF5IGltcHJvdmUgc3VjY2VzcyByYXRlJylcbiAgICB9IGVsc2Uge1xuICAgICAgcmVjb21tZW5kYXRpb25zLnB1c2goJ0V4Y2VsbGVudCBtYXRjaCAtIHByaW9yaXRpemUgdGhpcyBjYW5kaWRhdGUnKVxuICAgICAgcmVjb21tZW5kYXRpb25zLnB1c2goJ0Zhc3QtdHJhY2sgdG8gaW50ZXJ2aWV3IHByb2Nlc3MnKVxuICAgIH1cblxuICAgIHJldHVybiByZWNvbW1lbmRhdGlvbnNcbiAgfVxuXG4gIHByaXZhdGUgaWRlbnRpZnlSZWRGbGFncyhjYW5kaWRhdGU6IGFueSwgam9iOiBhbnkpOiBzdHJpbmdbXSB7XG4gICAgY29uc3QgZmxhZ3MgPSBbXVxuXG4gICAgaWYgKGNhbmRpZGF0ZS5leHBlY3RlZFNhbGFyeSA+IGpvYi5vZmZlcmVkU2FsYXJ5ICogMS41KSB7XG4gICAgICBmbGFncy5wdXNoKCdTYWxhcnkgZXhwZWN0YXRpb25zIHNpZ25pZmljYW50bHkgaGlnaGVyIHRoYW4gb2ZmZXJlZCcpXG4gICAgfVxuXG4gICAgaWYgKCFjYW5kaWRhdGUud2lsbGluZ1RvUmVsb2NhdGUgJiYgam9iLmNvdW50cnkgIT09IGNhbmRpZGF0ZS5jdXJyZW50Q291bnRyeSkge1xuICAgICAgZmxhZ3MucHVzaCgnTm90IHdpbGxpbmcgdG8gcmVsb2NhdGUnKVxuICAgIH1cblxuICAgIGlmIChqb2IuZXhwZXJpZW5jZVJlcXVpcmVkID4gY2FuZGlkYXRlLmV4cGVyaWVuY2VZZWFycyAqIDEuNSkge1xuICAgICAgZmxhZ3MucHVzaCgnU2lnbmlmaWNhbnQgZXhwZXJpZW5jZSBnYXAnKVxuICAgIH1cblxuICAgIHJldHVybiBmbGFnc1xuICB9XG5cbiAgLy8gSGVscGVyIG1ldGhvZHMgZm9yIGRhdGEgYWNjZXNzICh3b3VsZCBpbnRlZ3JhdGUgd2l0aCBkYXRhYmFzZSlcbiAgcHJpdmF0ZSBhc3luYyBnZXRDYW5kaWRhdGVEYXRhKGlkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgIC8vIFBsYWNlaG9sZGVyIC0gd291bGQgYWNjZXNzIGFjdHVhbCBkYXRhYmFzZVxuICAgIHJldHVybiB7IGlkLCBleHBlcmllbmNlWWVhcnM6IDIsIHdpbGxpbmdUb1JlbG9jYXRlOiB0cnVlLCBjdXJyZW50Q291bnRyeTogJ1JPJyB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGdldEpvYkRhdGEoaWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgLy8gUGxhY2Vob2xkZXIgLSB3b3VsZCBhY2Nlc3MgYWN0dWFsIGRhdGFiYXNlXG4gICAgcmV0dXJuIHsgaWQsIGV4cGVyaWVuY2VSZXF1aXJlZDogMSwgY291bnRyeTogJ0RLJywgb2ZmZXJlZFNhbGFyeTogMjUwMCB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGdldENvbXBhbnlEYXRhKGlkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgIC8vIFBsYWNlaG9sZGVyIC0gd291bGQgYWNjZXNzIGFjdHVhbCBkYXRhYmFzZVxuICAgIHJldHVybiB7IGlkLCB3ZWJzaXRlOiAnJywgaW5kdXN0cnk6ICdhZ3JpY3VsdHVyZScsIHNpemU6ICdtZWRpdW0nIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgYW5hbHl6ZUZpbmFuY2lhbEhlYWx0aChjb21wYW55OiBhbnkpOiBQcm9taXNlPG51bWJlcj4ge1xuICAgIC8vIFBsYWNlaG9sZGVyOiBBbmFseXplIGJhc2VkIG9uIGNvbXBhbnkgZGF0YVxuICAgIHJldHVybiBjb21wYW55LnJldmVudWUgPyBNYXRoLm1pbigxMDAsIE1hdGgubWF4KDAsIChjb21wYW55LnJldmVudWUgLyAxMDAwMDAwKSAqIDIwKSkgOiA1MDtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgYW5hbHl6ZVdlYnNpdGVGb3JVcmdlbmN5KGNvbXBhbnk6IGFueSk6IFByb21pc2U8bnVtYmVyPiB7XG4gICAgLy8gUGxhY2Vob2xkZXI6IENoZWNrIGZvciB1cmdlbmN5IGluZGljYXRvcnNcbiAgICByZXR1cm4gY29tcGFueS5vcGVuUG9zaXRpb25zID4gNSA/IDgwIDogNTA7XG4gIH1cblxuICBwcml2YXRlIGFuYWx5emVDb21tdW5pY2F0aW9uUXVhbGl0eShjb21wYW55OiBhbnkpOiBudW1iZXIge1xuICAgIC8vIFBsYWNlaG9sZGVyOiBTY29yZSBiYXNlZCBvbiByZXNwb25zZSBxdWFsaXR5XG4gICAgcmV0dXJuIGNvbXBhbnkuZW1haWxSZXNwb25zZVRpbWUgPyAoY29tcGFueS5lbWFpbFJlc3BvbnNlVGltZSA8IDI0ID8gOTAgOiA2MCkgOiA3MDtcbiAgfVxuXG4gIHByaXZhdGUgZXZhbHVhdGVSZWxvY2F0aW9uU3VwcG9ydChjb21wYW55OiBhbnkpOiBudW1iZXIge1xuICAgIC8vIEV2YWx1YXRlIGNvbXBhbnkncyByZWxvY2F0aW9uIHN1cHBvcnQgY2FwYWJpbGl0aWVzXG4gICAgbGV0IHNjb3JlID0gNTA7IC8vIEJhc2Ugc2NvcmVcblxuICAgIGlmIChjb21wYW55Lm9mZmVyc1JlbG9jYXRpb24pIHNjb3JlICs9IDI1O1xuICAgIGlmIChjb21wYW55LnByb3ZpZGVzSG91c2luZykgc2NvcmUgKz0gMTU7XG4gICAgaWYgKGNvbXBhbnkuaGVscHNXaXRoVmlzYSkgc2NvcmUgKz0gMTA7XG4gICAgaWYgKGNvbXBhbnkudHJhbnNwb3J0U3VwcG9ydCkgc2NvcmUgKz0gMTA7XG4gICAgaWYgKGNvbXBhbnkubGFuZ3VhZ2VUcmFpbmluZykgc2NvcmUgKz0gNTtcblxuICAgIHJldHVybiBNYXRoLm1pbigxMDAsIE1hdGgubWF4KDAsIHNjb3JlKSk7XG4gIH1cblxuICBwcml2YXRlIHNjb3JlSW5kdXN0cnlDb21wYXRpYmlsaXR5KGNvbXBhbnk6IGFueSk6IG51bWJlciB7XG4gICAgLy8gQ2hlY2sgaWYgaW5kdXN0cnkgaXMgc3VpdGFibGUgZm9yIFJvbWFuaWFuIHJlY3J1aXRtZW50XG4gICAgY29uc3Qgc3VpdGFibGVJbmR1c3RyaWVzID0gWydhZ3JpY3VsdHVyZScsICdmb3Jlc3RyeScsICdtYW51ZmFjdHVyaW5nJywgJ2NvbnN0cnVjdGlvbiddXG4gICAgcmV0dXJuIHN1aXRhYmxlSW5kdXN0cmllcy5pbmNsdWRlcyhjb21wYW55LmluZHVzdHJ5Py50b0xvd2VyQ2FzZSgpKSA/IDkwIDogNzBcbiAgfVxuXG4gIHByaXZhdGUgc2NvcmVDb21wYW55U2l6ZShjb21wYW55OiBhbnkpOiBudW1iZXIge1xuICAgIC8vIE1lZGl1bS9sYXJnZSBjb21wYW5pZXMgYXJlIHByZWZlcmFibGUgZm9yIFJvbWFuaWFuIGhpcmVzXG4gICAgY29uc3Qgc2l6ZVNjb3JlcyA9IHsgc21hbGw6IDcwLCBtZWRpdW06IDg1LCBsYXJnZTogOTUgfVxuICAgIHJldHVybiBzaXplU2NvcmVzW2NvbXBhbnkuc2l6ZSBhcyBrZXlvZiB0eXBlb2Ygc2l6ZVNjb3Jlc10gfHwgNzVcbiAgfVxuXG4gIHByaXZhdGUgZ2VuZXJhdGVMZWFkU2NvcmVSZWFzb25zKHNjb3JlczogYW55KTogc3RyaW5nW10ge1xuICAgIGNvbnN0IHJlYXNvbnMgPSBbXVxuXG4gICAgaWYgKHNjb3Jlcy5maW5hbmNpYWxIZWFsdGggPiA4MCkgcmVhc29ucy5wdXNoKCdTdHJvbmcgZmluYW5jaWFsIHBvc2l0aW9uJylcbiAgICBpZiAoc2NvcmVzLmhpcmluZ1VyZ2VuY3kgPiA4MCkgcmVhc29ucy5wdXNoKCdBY3RpdmUgaGlyaW5nIG5lZWRzJylcbiAgICBpZiAoc2NvcmVzLnJlbG9jYXRpb25TdXBwb3J0ID4gODApIHJlYXNvbnMucHVzaCgnR29vZCByZWxvY2F0aW9uIHN1cHBvcnQnKVxuICAgIGlmIChzY29yZXMuaW5kdXN0cnlNYXRjaCA+IDgwKSByZWFzb25zLnB1c2goJ0luZHVzdHJ5IGZpdHMgUm9tYW5pYW4gdGFsZW50JylcblxuICAgIHJldHVybiByZWFzb25zXG4gIH1cblxuICBwcml2YXRlIGNhbGN1bGF0ZUhpc3RvcmljYWxBZGp1c3RtZW50KG1hdGNoOiBTbWFydE1hdGNoLCBoaXN0b3J5OiBhbnlbXSk6IG51bWJlciB7XG4gICAgLy8gQW5hbHl6ZSBoaXN0b3JpY2FsIHBsYWNlbWVudCBkYXRhIGZvciBzaW1pbGFyIG1hdGNoZXNcbiAgICBjb25zdCBzaW1pbGFyTWF0Y2hlcyA9IGhpc3RvcnkuZmlsdGVyKGggPT5cbiAgICAgIE1hdGguYWJzKGgub3ZlcmFsbFNjb3JlIC0gbWF0Y2gub3ZlcmFsbFNjb3JlKSA8IDEwXG4gICAgKVxuXG4gICAgaWYgKHNpbWlsYXJNYXRjaGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIDUwXG5cbiAgICBjb25zdCBhdmdTdWNjZXNzID0gc2ltaWxhck1hdGNoZXMucmVkdWNlKChzdW0sIGgpID0+IHN1bSArIGguYWN0dWFsU3VjY2VzcywgMCkgLyBzaW1pbGFyTWF0Y2hlcy5sZW5ndGhcbiAgICByZXR1cm4gYXZnU3VjY2Vzc1xuICB9XG59XG4iXSwibmFtZXMiOlsiQUlTZXJ2aWNlIiwiZXVyb3BlYW5NYXJrZXRzIiwiZGVubWFyayIsImN1cnJlbmN5Iiwid29ya2luZ0hvdXJzIiwibWluV2FnZSIsInZhY2F0aW9uRGF5cyIsInZpc2FSZXF1aXJlZCIsImxhbmd1YWdlSW1wb3J0YW5jZSIsImdlcm1hbnkiLCJuZXRoZXJsYW5kcyIsImZyYW5jZSIsImpvYkluZHVzdHJpZXMiLCJhZ3JpY3VsdHVyZSIsIm5hbWUiLCJzcGVjaWFsdGllcyIsInNraWxscyIsInNhbGFyeVJhbmdlIiwibWluIiwibWF4IiwiY29uc3RydWN0aW9uIiwibWFudWZhY3R1cmluZyIsImxvZ2lzdGljcyIsIml0IiwiaG9zcGl0YWxpdHkiLCJoZWFsdGhjYXJlIiwicmV0YWlsIiwidHJhbnNwb3J0YXRpb24iLCJmb3Jlc3RyeSIsImFwaUtleSIsInByb2Nlc3MiLCJlbnYiLCJPUEVOUk9VVEVSX0FQSV9LRVkiLCJtb2RlbCIsIk9QRU5ST1VURVJfTU9ERUwiLCJnZXRJbnN0YW5jZSIsImluc3RhbmNlIiwiZ2VuZXJhdGVSZXNwb25zZSIsInByb21wdCIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJtZXNzYWdlcyIsInJvbGUiLCJjb250ZW50IiwibWF4X3Rva2VucyIsInRlbXBlcmF0dXJlIiwib2siLCJFcnJvciIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJkYXRhIiwianNvbiIsImNob2ljZXMiLCJtZXNzYWdlIiwic3VjY2VzcyIsImVycm9yIiwiY29uc29sZSIsImZhbGxiYWNrUmVzcG9uc2UiLCJnZW5lcmF0ZUZhbGxiYWNrUmVzcG9uc2UiLCJsb3dlck1lc3NhZ2UiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwiY2FsY3VsYXRlU21hcnRNYXRjaCIsImNhbmRpZGF0ZUlkIiwiam9iSWQiLCJjYW5kaWRhdGVEYXRhIiwiZ2V0Q2FuZGlkYXRlRGF0YSIsImpvYkRhdGEiLCJnZXRKb2JEYXRhIiwiY2FuZGlkYXRlRW1iZWRkaW5nIiwiZ2VuZXJhdGVFbWJlZGRpbmciLCJkZXNjcmlwdGlvbiIsImpvYkVtYmVkZGluZyIsInNraWxsU2ltaWxhcml0eSIsImNhbGN1bGF0ZUNvc2luZVNpbWlsYXJpdHkiLCJleHBlcmllbmNlU2NvcmUiLCJzY29yZUV4cGVyaWVuY2UiLCJsb2NhdGlvblNjb3JlIiwic2NvcmVMb2NhdGlvbiIsImN1bHR1cmFsRml0Iiwic2NvcmVDdWx0dXJhbEZpdCIsImxhbmd1YWdlU2NvcmUiLCJzY29yZUxhbmd1YWdlQ29tcGF0aWJpbGl0eSIsInNhbGFyeUZpdCIsInNjb3JlU2FsYXJ5RXhwZWN0YXRpb25zIiwic3VjY2Vzc1ByZWRpY3Rpb24iLCJwcmVkaWN0UGxhY2VtZW50U3VjY2VzcyIsIm92ZXJhbGxTY29yZSIsIk1hdGgiLCJyb3VuZCIsInNraWxsTWF0Y2giLCJleHBlcmllbmNlTWF0Y2giLCJsb2NhdGlvbkNvbXBhdGliaWxpdHkiLCJsYW5ndWFnZUNvbXBhdGliaWxpdHkiLCJzYWxhcnlFeHBlY3RhdGlvbnMiLCJyZWNvbW1lbmRhdGlvbnMiLCJnZW5lcmF0ZU1hdGNoUmVjb21tZW5kYXRpb25zIiwicmVkRmxhZ3MiLCJpZGVudGlmeVJlZEZsYWdzIiwic2NvcmVMZWFkIiwiY29tcGFueUlkIiwiY29tcGFueURhdGEiLCJnZXRDb21wYW55RGF0YSIsImZpbmFuY2lhbEhlYWx0aCIsImFuYWx5emVGaW5hbmNpYWxIZWFsdGgiLCJoaXJpbmdVcmdlbmN5IiwiYW5hbHl6ZVdlYnNpdGVGb3JVcmdlbmN5IiwicmVsb2NhdGlvblN1cHBvcnQiLCJldmFsdWF0ZVJlbG9jYXRpb25TdXBwb3J0IiwiY29tbXVuaWNhdGlvblNjb3JlIiwiYW5hbHl6ZUNvbW11bmljYXRpb25RdWFsaXR5IiwiaW5kdXN0cnlNYXRjaCIsInNjb3JlSW5kdXN0cnlDb21wYXRpYmlsaXR5Iiwic2l6ZUNvbXBhdGliaWxpdHkiLCJzY29yZUNvbXBhbnlTaXplIiwib3ZlcmFsbEZpdCIsInJlYXNvbnMiLCJnZW5lcmF0ZUxlYWRTY29yZVJlYXNvbnMiLCJhbmFseXplQ1YiLCJjb3VudHJ5IiwicGFyc2VkQW5hbHlzaXMiLCJwYXJzZSIsImV4cGVyaWVuY2UiLCJlZHVjYXRpb24iLCJsYW5ndWFnZXMiLCJjZXJ0aWZpY2F0aW9ucyIsInNjb3JlIiwiam9iQ29tcGF0aWJpbGl0eSIsImdlbmVyYWxfbGFib3VyIiwic2tpbGxlZF90cmFkZXMiLCJtYW5hZ2VtZW50IiwicHJlZGljdFN1Y2Nlc3NSYXRlIiwibWF0Y2giLCJoaXN0b3JpY2FsRGF0YSIsIndlaWdodEZhY3RvcnMiLCJzdWNjZXNzUmF0ZSIsImhpc3RvcmljYWxBZGp1c3RtZW50IiwiY2FsY3VsYXRlSGlzdG9yaWNhbEFkanVzdG1lbnQiLCJ0ZXh0Iiwic2VlZCIsImxlbmd0aCIsInNwbGl0IiwicmFuZG9tIiwiQXJyYXkiLCJmcm9tIiwiXyIsImkiLCJzaW4iLCJ2ZWNBIiwidmVjQiIsImRvdFByb2R1Y3QiLCJub3JtQSIsIm5vcm1CIiwic3FydCIsImNhbmRpZGF0ZSIsImpvYiIsImNhbmRpZGF0ZUV4cCIsImV4cGVyaWVuY2VZZWFycyIsImpvYkV4cCIsImV4cGVyaWVuY2VSZXF1aXJlZCIsIndpbGxpbmdUb1JlbG9jYXRlIiwiY3VycmVudENvdW50cnkiLCJ3b3JraW5nUGF0dGVybnMiLCJ3b3JrQ3VsdHVyZSIsIm1vdGl2YXRpb25BbGlnbm1lbnQiLCJjb21wYW55VmFsdWVzIiwibWFya2V0IiwicmVxdWlyZWRMYW5ndWFnZSIsImNhbmRpZGF0ZUxldmVscyIsImxldmVsIiwiY2FuZGlkYXRlU2FsYXJ5IiwiZXhwZWN0ZWRTYWxhcnkiLCJqb2JTYWxhcnkiLCJvZmZlcmVkU2FsYXJ5IiwiZmFjdG9ycyIsInB1c2giLCJmbGFncyIsImlkIiwid2Vic2l0ZSIsImluZHVzdHJ5Iiwic2l6ZSIsImNvbXBhbnkiLCJyZXZlbnVlIiwib3BlblBvc2l0aW9ucyIsImVtYWlsUmVzcG9uc2VUaW1lIiwib2ZmZXJzUmVsb2NhdGlvbiIsInByb3ZpZGVzSG91c2luZyIsImhlbHBzV2l0aFZpc2EiLCJ0cmFuc3BvcnRTdXBwb3J0IiwibGFuZ3VhZ2VUcmFpbmluZyIsInN1aXRhYmxlSW5kdXN0cmllcyIsInNpemVTY29yZXMiLCJzbWFsbCIsIm1lZGl1bSIsImxhcmdlIiwic2NvcmVzIiwiaGlzdG9yeSIsInNpbWlsYXJNYXRjaGVzIiwiZmlsdGVyIiwiaCIsImFicyIsImF2Z1N1Y2Nlc3MiLCJyZWR1Y2UiLCJzdW0iLCJhY3R1YWxTdWNjZXNzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/ai-service.ts\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@15.5.4_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=%2Fhome%2Fshiva%2FDocuments%2Fromanian_danish_jobs%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fshiva%2FDocuments%2Fromanian_danish_jobs&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.5.4_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=%2Fhome%2Fshiva%2FDocuments%2Fromanian_danish_jobs%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fshiva%2FDocuments%2Fromanian_danish_jobs&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handler: () => (/* binding */ handler),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/.pnpm/next@15.5.4_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/.pnpm/next@15.5.4_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/.pnpm/next@15.5.4_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/request-meta */ \"(rsc)/./node_modules/.pnpm/next@15.5.4_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/server/request-meta.js\");\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/dist/server/lib/trace/tracer */ \"(rsc)/./node_modules/.pnpm/next@15.5.4_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/server/lib/trace/tracer.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/dist/shared/lib/router/utils/app-paths */ \"next/dist/shared/lib/router/utils/app-paths\");\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/dist/server/base-http/node */ \"(rsc)/./node_modules/.pnpm/next@15.5.4_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/server/base-http/node.js\");\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/dist/server/web/spec-extension/adapters/next-request */ \"(rsc)/./node_modules/.pnpm/next@15.5.4_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/server/web/spec-extension/adapters/next-request.js\");\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! next/dist/server/lib/trace/constants */ \"(rsc)/./node_modules/.pnpm/next@15.5.4_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/server/lib/trace/constants.js\");\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! next/dist/server/instrumentation/utils */ \"(rsc)/./node_modules/.pnpm/next@15.5.4_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/server/instrumentation/utils.js\");\n/* harmony import */ var next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! next/dist/server/send-response */ \"(rsc)/./node_modules/.pnpm/next@15.5.4_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/server/send-response.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! next/dist/server/web/utils */ \"(rsc)/./node_modules/.pnpm/next@15.5.4_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/server/web/utils.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! next/dist/server/lib/cache-control */ \"(rsc)/./node_modules/.pnpm/next@15.5.4_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/server/lib/cache-control.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! next/dist/lib/constants */ \"(rsc)/./node_modules/.pnpm/next@15.5.4_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/lib/constants.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! next/dist/shared/lib/no-fallback-error.external */ \"next/dist/shared/lib/no-fallback-error.external\");\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! next/dist/server/response-cache */ \"(rsc)/./node_modules/.pnpm/next@15.5.4_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/server/response-cache/index.js\");\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _home_shiva_Documents_romanian_danish_jobs_app_api_chat_route_ts__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./app/api/chat/route.ts */ \"(rsc)/./app/api/chat/route.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"standalone\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/chat/route\",\n        pathname: \"/api/chat\",\n        filename: \"route\",\n        bundlePath: \"app/api/chat/route\"\n    },\n    distDir: \".next\" || 0,\n    relativeProjectDir:  false || '',\n    resolvedPagePath: \"/home/shiva/Documents/romanian_danish_jobs/app/api/chat/route.ts\",\n    nextConfigOutput,\n    userland: _home_shiva_Documents_romanian_danish_jobs_app_api_chat_route_ts__WEBPACK_IMPORTED_MODULE_16__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\nasync function handler(req, res, ctx) {\n    var _nextConfig_experimental;\n    let srcPage = \"/api/chat/route\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (false) {} else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = false;\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, params, nextConfig, isDraftMode, prerenderManifest, routerServerContext, isOnDemandRevalidate, revalidateOnlyGenerated, resolvedPathname } = prepareResult;\n    const normalizedSrcPage = (0,next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__.normalizeAppPath)(srcPage);\n    let isIsr = Boolean(prerenderManifest.dynamicRoutes[normalizedSrcPage] || prerenderManifest.routes[resolvedPathname]);\n    if (isIsr && !isDraftMode) {\n        const isPrerendered = Boolean(prerenderManifest.routes[resolvedPathname]);\n        const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage];\n        if (prerenderInfo) {\n            if (prerenderInfo.fallback === false && !isPrerendered) {\n                throw new next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError();\n            }\n        }\n    }\n    let cacheKey = null;\n    if (isIsr && !routeModule.isDev && !isDraftMode) {\n        cacheKey = resolvedPathname;\n        // ensure /index and / is normalized to one key\n        cacheKey = cacheKey === '/index' ? '/' : cacheKey;\n    }\n    const supportsDynamicResponse = // If we're in development, we always support dynamic HTML\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isIsr;\n    // This is a revalidation request if the request is for a static\n    // page and it is not being resumed from a postponed render and\n    // it is not a dynamic RSC request then it is a revalidation\n    // request.\n    const isRevalidate = isIsr && !supportsDynamicResponse;\n    const method = req.method || 'GET';\n    const tracer = (0,next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.getTracer)();\n    const activeSpan = tracer.getActiveScopeSpan();\n    const context = {\n        params,\n        prerenderManifest,\n        renderOpts: {\n            experimental: {\n                cacheComponents: Boolean(nextConfig.experimental.cacheComponents),\n                authInterrupts: Boolean(nextConfig.experimental.authInterrupts)\n            },\n            supportsDynamicResponse,\n            incrementalCache: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'incrementalCache'),\n            cacheLifeProfiles: (_nextConfig_experimental = nextConfig.experimental) == null ? void 0 : _nextConfig_experimental.cacheLife,\n            isRevalidate,\n            waitUntil: ctx.waitUntil,\n            onClose: (cb)=>{\n                res.on('close', cb);\n            },\n            onAfterTaskError: undefined,\n            onInstrumentationRequestError: (error, _request, errorContext)=>routeModule.onRequestError(req, error, errorContext, routerServerContext)\n        },\n        sharedContext: {\n            buildId\n        }\n    };\n    const nodeNextReq = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextRequest(req);\n    const nodeNextRes = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextResponse(res);\n    const nextReq = next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.NextRequestAdapter.fromNodeNextRequest(nodeNextReq, (0,next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.signalFromNodeResponse)(res));\n    try {\n        const invokeRouteModule = async (span)=>{\n            return routeModule.handle(nextReq, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${req.url}`);\n                }\n            });\n        };\n        const handleResponse = async (currentSpan)=>{\n            var _cacheEntry_value;\n            const responseGenerator = async ({ previousCacheEntry })=>{\n                try {\n                    if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry) {\n                        res.statusCode = 404;\n                        // on-demand revalidate always sets this header\n                        res.setHeader('x-nextjs-cache', 'REVALIDATED');\n                        res.end('This page could not be found');\n                        return null;\n                    }\n                    const response = await invokeRouteModule(currentSpan);\n                    req.fetchMetrics = context.renderOpts.fetchMetrics;\n                    let pendingWaitUntil = context.renderOpts.pendingWaitUntil;\n                    // Attempt using provided waitUntil if available\n                    // if it's not we fallback to sendResponse's handling\n                    if (pendingWaitUntil) {\n                        if (ctx.waitUntil) {\n                            ctx.waitUntil(pendingWaitUntil);\n                            pendingWaitUntil = undefined;\n                        }\n                    }\n                    const cacheTags = context.renderOpts.collectedTags;\n                    // If the request is for a static response, we can cache it so long\n                    // as it's not edge.\n                    if (isIsr) {\n                        const blob = await response.blob();\n                        // Copy the headers from the response.\n                        const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.toNodeOutgoingHttpHeaders)(response.headers);\n                        if (cacheTags) {\n                            headers[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER] = cacheTags;\n                        }\n                        if (!headers['content-type'] && blob.type) {\n                            headers['content-type'] = blob.type;\n                        }\n                        const revalidate = typeof context.renderOpts.collectedRevalidate === 'undefined' || context.renderOpts.collectedRevalidate >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? false : context.renderOpts.collectedRevalidate;\n                        const expire = typeof context.renderOpts.collectedExpire === 'undefined' || context.renderOpts.collectedExpire >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? undefined : context.renderOpts.collectedExpire;\n                        // Create the cache entry for the response.\n                        const cacheEntry = {\n                            value: {\n                                kind: next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE,\n                                status: response.status,\n                                body: Buffer.from(await blob.arrayBuffer()),\n                                headers\n                            },\n                            cacheControl: {\n                                revalidate,\n                                expire\n                            }\n                        };\n                        return cacheEntry;\n                    } else {\n                        // send response without caching if not ISR\n                        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, response, context.renderOpts.pendingWaitUntil);\n                        return null;\n                    }\n                } catch (err) {\n                    // if this is a background revalidate we need to report\n                    // the request error here as it won't be bubbled\n                    if (previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) {\n                        await routeModule.onRequestError(req, err, {\n                            routerKind: 'App Router',\n                            routePath: srcPage,\n                            routeType: 'route',\n                            revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                                isRevalidate,\n                                isOnDemandRevalidate\n                            })\n                        }, routerServerContext);\n                    }\n                    throw err;\n                }\n            };\n            const cacheEntry = await routeModule.handleResponse({\n                req,\n                nextConfig,\n                cacheKey,\n                routeKind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n                isFallback: false,\n                prerenderManifest,\n                isRoutePPREnabled: false,\n                isOnDemandRevalidate,\n                revalidateOnlyGenerated,\n                responseGenerator,\n                waitUntil: ctx.waitUntil\n            });\n            // we don't create a cacheEntry for ISR\n            if (!isIsr) {\n                return null;\n            }\n            if ((cacheEntry == null ? void 0 : (_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant: app-route received invalid cache entry ${cacheEntry == null ? void 0 : (_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E701\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode')) {\n                res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n            }\n            // Draft mode should never be cached\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.fromNodeOutgoingHttpHeaders)(cacheEntry.value.headers);\n            if (!((0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isIsr)) {\n                headers.delete(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER);\n            }\n            // If cache control is already set on the response we don't\n            // override it to allow users to customize it via next.config\n            if (cacheEntry.cacheControl && !res.getHeader('Cache-Control') && !headers.get('Cache-Control')) {\n                headers.set('Cache-Control', (0,next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__.getCacheControlHeader)(cacheEntry.cacheControl));\n            }\n            await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(cacheEntry.value.body, {\n                headers,\n                status: cacheEntry.value.status || 200\n            }));\n            return null;\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${req.url}`,\n                    kind: next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        if (!(err instanceof next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError)) {\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: normalizedSrcPage,\n                routeType: 'route',\n                revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                    isRevalidate,\n                    isOnDemandRevalidate\n                })\n            });\n        }\n        // rethrow so that we can handle serving error page\n        // If this is during static generation, throw the error again.\n        if (isIsr) throw err;\n        // Otherwise, send a 500 response.\n        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(null, {\n            status: 500\n        }));\n        return null;\n    }\n}\n\n//# sourceMappingURL=app-route.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS41LjRfcmVhY3QtZG9tQDE5LjEuMV9yZWFjdEAxOS4xLjFfX3JlYWN0QDE5LjEuMS9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZjaGF0JTJGcm91dGUmcGFnZT0lMkZhcGklMkZjaGF0JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGY2hhdCUyRnJvdXRlLnRzJmFwcERpcj0lMkZob21lJTJGc2hpdmElMkZEb2N1bWVudHMlMkZyb21hbmlhbl9kYW5pc2hfam9icyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGaG9tZSUyRnNoaXZhJTJGRG9jdW1lbnRzJTJGcm9tYW5pYW5fZGFuaXNoX2pvYnMmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9c3RhbmRhbG9uZSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEJmlzR2xvYmFsTm90Rm91bmRFbmFibGVkPSEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDcUI7QUFDZDtBQUNTO0FBQ087QUFDSztBQUNtQztBQUNqRDtBQUNPO0FBQ2Y7QUFDc0M7QUFDekI7QUFDTTtBQUNDO0FBQ2hCO0FBQzJCO0FBQzdGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5R0FBbUI7QUFDM0M7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGFBQWEsT0FBb0MsSUFB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QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsMEZBQXFCO0FBQ2xFO0FBQ0Esa0JBQWtCLDZFQUFZO0FBQzlCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLDZFQUE2RSxnRkFBYztBQUMzRixpQ0FBaUMsUUFBUSxFQUFFLFFBQVE7QUFDbkQsMEJBQTBCLHVFQUFRO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsTUFBTTtBQUNOLDZCQUE2Qiw2RkFBZTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQywyRkFBbUI7QUFDckQ7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsNkVBQVk7QUFDMUI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0IHsgZ2V0UmVxdWVzdE1ldGEgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yZXF1ZXN0LW1ldGFcIjtcbmltcG9ydCB7IGdldFRyYWNlciwgU3BhbktpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvdHJhY2UvdHJhY2VyXCI7XG5pbXBvcnQgeyBub3JtYWxpemVBcHBQYXRoIH0gZnJvbSBcIm5leHQvZGlzdC9zaGFyZWQvbGliL3JvdXRlci91dGlscy9hcHAtcGF0aHNcIjtcbmltcG9ydCB7IE5vZGVOZXh0UmVxdWVzdCwgTm9kZU5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Jhc2UtaHR0cC9ub2RlXCI7XG5pbXBvcnQgeyBOZXh0UmVxdWVzdEFkYXB0ZXIsIHNpZ25hbEZyb21Ob2RlUmVzcG9uc2UgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci93ZWIvc3BlYy1leHRlbnNpb24vYWRhcHRlcnMvbmV4dC1yZXF1ZXN0XCI7XG5pbXBvcnQgeyBCYXNlU2VydmVyU3BhbiB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi90cmFjZS9jb25zdGFudHNcIjtcbmltcG9ydCB7IGdldFJldmFsaWRhdGVSZWFzb24gfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9pbnN0cnVtZW50YXRpb24vdXRpbHNcIjtcbmltcG9ydCB7IHNlbmRSZXNwb25zZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3NlbmQtcmVzcG9uc2VcIjtcbmltcG9ydCB7IGZyb21Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycywgdG9Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycyB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3dlYi91dGlsc1wiO1xuaW1wb3J0IHsgZ2V0Q2FjaGVDb250cm9sSGVhZGVyIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL2NhY2hlLWNvbnRyb2xcIjtcbmltcG9ydCB7IElORklOSVRFX0NBQ0hFLCBORVhUX0NBQ0hFX1RBR1NfSEVBREVSIH0gZnJvbSBcIm5leHQvZGlzdC9saWIvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBOb0ZhbGxiYWNrRXJyb3IgfSBmcm9tIFwibmV4dC9kaXN0L3NoYXJlZC9saWIvbm8tZmFsbGJhY2stZXJyb3IuZXh0ZXJuYWxcIjtcbmltcG9ydCB7IENhY2hlZFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3Jlc3BvbnNlLWNhY2hlXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL2hvbWUvc2hpdmEvRG9jdW1lbnRzL3JvbWFuaWFuX2RhbmlzaF9qb2JzL2FwcC9hcGkvY2hhdC9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJzdGFuZGFsb25lXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2NoYXQvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9jaGF0XCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9jaGF0L3JvdXRlXCJcbiAgICB9LFxuICAgIGRpc3REaXI6IHByb2Nlc3MuZW52Ll9fTkVYVF9SRUxBVElWRV9ESVNUX0RJUiB8fCAnJyxcbiAgICByZWxhdGl2ZVByb2plY3REaXI6IHByb2Nlc3MuZW52Ll9fTkVYVF9SRUxBVElWRV9QUk9KRUNUX0RJUiB8fCAnJyxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9ob21lL3NoaXZhL0RvY3VtZW50cy9yb21hbmlhbl9kYW5pc2hfam9icy9hcHAvYXBpL2NoYXQvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICB3b3JrQXN5bmNTdG9yYWdlLFxuICAgICAgICB3b3JrVW5pdEFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgcGF0Y2hGZXRjaCwgIH07XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcywgY3R4KSB7XG4gICAgdmFyIF9uZXh0Q29uZmlnX2V4cGVyaW1lbnRhbDtcbiAgICBsZXQgc3JjUGFnZSA9IFwiL2FwaS9jaGF0L3JvdXRlXCI7XG4gICAgLy8gdHVyYm9wYWNrIGRvZXNuJ3Qgbm9ybWFsaXplIGAvaW5kZXhgIGluIHRoZSBwYWdlIG5hbWVcbiAgICAvLyBzbyB3ZSBuZWVkIHRvIHRvIHByb2Nlc3MgZHluYW1pYyByb3V0ZXMgcHJvcGVybHlcbiAgICAvLyBUT0RPOiBmaXggdHVyYm9wYWNrIHByb3ZpZGluZyBkaWZmZXJpbmcgdmFsdWUgZnJvbSB3ZWJwYWNrXG4gICAgaWYgKHByb2Nlc3MuZW52LlRVUkJPUEFDSykge1xuICAgICAgICBzcmNQYWdlID0gc3JjUGFnZS5yZXBsYWNlKC9cXC9pbmRleCQvLCAnJykgfHwgJy8nO1xuICAgIH0gZWxzZSBpZiAoc3JjUGFnZSA9PT0gJy9pbmRleCcpIHtcbiAgICAgICAgLy8gd2UgYWx3YXlzIG5vcm1hbGl6ZSAvaW5kZXggc3BlY2lmaWNhbGx5XG4gICAgICAgIHNyY1BhZ2UgPSAnLyc7XG4gICAgfVxuICAgIGNvbnN0IG11bHRpWm9uZURyYWZ0TW9kZSA9IHByb2Nlc3MuZW52Ll9fTkVYVF9NVUxUSV9aT05FX0RSQUZUX01PREU7XG4gICAgY29uc3QgcHJlcGFyZVJlc3VsdCA9IGF3YWl0IHJvdXRlTW9kdWxlLnByZXBhcmUocmVxLCByZXMsIHtcbiAgICAgICAgc3JjUGFnZSxcbiAgICAgICAgbXVsdGlab25lRHJhZnRNb2RlXG4gICAgfSk7XG4gICAgaWYgKCFwcmVwYXJlUmVzdWx0KSB7XG4gICAgICAgIHJlcy5zdGF0dXNDb2RlID0gNDAwO1xuICAgICAgICByZXMuZW5kKCdCYWQgUmVxdWVzdCcpO1xuICAgICAgICBjdHgud2FpdFVudGlsID09IG51bGwgPyB2b2lkIDAgOiBjdHgud2FpdFVudGlsLmNhbGwoY3R4LCBQcm9taXNlLnJlc29sdmUoKSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCB7IGJ1aWxkSWQsIHBhcmFtcywgbmV4dENvbmZpZywgaXNEcmFmdE1vZGUsIHByZXJlbmRlck1hbmlmZXN0LCByb3V0ZXJTZXJ2ZXJDb250ZXh0LCBpc09uRGVtYW5kUmV2YWxpZGF0ZSwgcmV2YWxpZGF0ZU9ubHlHZW5lcmF0ZWQsIHJlc29sdmVkUGF0aG5hbWUgfSA9IHByZXBhcmVSZXN1bHQ7XG4gICAgY29uc3Qgbm9ybWFsaXplZFNyY1BhZ2UgPSBub3JtYWxpemVBcHBQYXRoKHNyY1BhZ2UpO1xuICAgIGxldCBpc0lzciA9IEJvb2xlYW4ocHJlcmVuZGVyTWFuaWZlc3QuZHluYW1pY1JvdXRlc1tub3JtYWxpemVkU3JjUGFnZV0gfHwgcHJlcmVuZGVyTWFuaWZlc3Qucm91dGVzW3Jlc29sdmVkUGF0aG5hbWVdKTtcbiAgICBpZiAoaXNJc3IgJiYgIWlzRHJhZnRNb2RlKSB7XG4gICAgICAgIGNvbnN0IGlzUHJlcmVuZGVyZWQgPSBCb29sZWFuKHByZXJlbmRlck1hbmlmZXN0LnJvdXRlc1tyZXNvbHZlZFBhdGhuYW1lXSk7XG4gICAgICAgIGNvbnN0IHByZXJlbmRlckluZm8gPSBwcmVyZW5kZXJNYW5pZmVzdC5keW5hbWljUm91dGVzW25vcm1hbGl6ZWRTcmNQYWdlXTtcbiAgICAgICAgaWYgKHByZXJlbmRlckluZm8pIHtcbiAgICAgICAgICAgIGlmIChwcmVyZW5kZXJJbmZvLmZhbGxiYWNrID09PSBmYWxzZSAmJiAhaXNQcmVyZW5kZXJlZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBOb0ZhbGxiYWNrRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgY2FjaGVLZXkgPSBudWxsO1xuICAgIGlmIChpc0lzciAmJiAhcm91dGVNb2R1bGUuaXNEZXYgJiYgIWlzRHJhZnRNb2RlKSB7XG4gICAgICAgIGNhY2hlS2V5ID0gcmVzb2x2ZWRQYXRobmFtZTtcbiAgICAgICAgLy8gZW5zdXJlIC9pbmRleCBhbmQgLyBpcyBub3JtYWxpemVkIHRvIG9uZSBrZXlcbiAgICAgICAgY2FjaGVLZXkgPSBjYWNoZUtleSA9PT0gJy9pbmRleCcgPyAnLycgOiBjYWNoZUtleTtcbiAgICB9XG4gICAgY29uc3Qgc3VwcG9ydHNEeW5hbWljUmVzcG9uc2UgPSAvLyBJZiB3ZSdyZSBpbiBkZXZlbG9wbWVudCwgd2UgYWx3YXlzIHN1cHBvcnQgZHluYW1pYyBIVE1MXG4gICAgcm91dGVNb2R1bGUuaXNEZXYgPT09IHRydWUgfHwgLy8gSWYgdGhpcyBpcyBub3QgU1NHIG9yIGRvZXMgbm90IGhhdmUgc3RhdGljIHBhdGhzLCB0aGVuIGl0IHN1cHBvcnRzXG4gICAgLy8gZHluYW1pYyBIVE1MLlxuICAgICFpc0lzcjtcbiAgICAvLyBUaGlzIGlzIGEgcmV2YWxpZGF0aW9uIHJlcXVlc3QgaWYgdGhlIHJlcXVlc3QgaXMgZm9yIGEgc3RhdGljXG4gICAgLy8gcGFnZSBhbmQgaXQgaXMgbm90IGJlaW5nIHJlc3VtZWQgZnJvbSBhIHBvc3Rwb25lZCByZW5kZXIgYW5kXG4gICAgLy8gaXQgaXMgbm90IGEgZHluYW1pYyBSU0MgcmVxdWVzdCB0aGVuIGl0IGlzIGEgcmV2YWxpZGF0aW9uXG4gICAgLy8gcmVxdWVzdC5cbiAgICBjb25zdCBpc1JldmFsaWRhdGUgPSBpc0lzciAmJiAhc3VwcG9ydHNEeW5hbWljUmVzcG9uc2U7XG4gICAgY29uc3QgbWV0aG9kID0gcmVxLm1ldGhvZCB8fCAnR0VUJztcbiAgICBjb25zdCB0cmFjZXIgPSBnZXRUcmFjZXIoKTtcbiAgICBjb25zdCBhY3RpdmVTcGFuID0gdHJhY2VyLmdldEFjdGl2ZVNjb3BlU3BhbigpO1xuICAgIGNvbnN0IGNvbnRleHQgPSB7XG4gICAgICAgIHBhcmFtcyxcbiAgICAgICAgcHJlcmVuZGVyTWFuaWZlc3QsXG4gICAgICAgIHJlbmRlck9wdHM6IHtcbiAgICAgICAgICAgIGV4cGVyaW1lbnRhbDoge1xuICAgICAgICAgICAgICAgIGNhY2hlQ29tcG9uZW50czogQm9vbGVhbihuZXh0Q29uZmlnLmV4cGVyaW1lbnRhbC5jYWNoZUNvbXBvbmVudHMpLFxuICAgICAgICAgICAgICAgIGF1dGhJbnRlcnJ1cHRzOiBCb29sZWFuKG5leHRDb25maWcuZXhwZXJpbWVudGFsLmF1dGhJbnRlcnJ1cHRzKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1cHBvcnRzRHluYW1pY1Jlc3BvbnNlLFxuICAgICAgICAgICAgaW5jcmVtZW50YWxDYWNoZTogZ2V0UmVxdWVzdE1ldGEocmVxLCAnaW5jcmVtZW50YWxDYWNoZScpLFxuICAgICAgICAgICAgY2FjaGVMaWZlUHJvZmlsZXM6IChfbmV4dENvbmZpZ19leHBlcmltZW50YWwgPSBuZXh0Q29uZmlnLmV4cGVyaW1lbnRhbCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9uZXh0Q29uZmlnX2V4cGVyaW1lbnRhbC5jYWNoZUxpZmUsXG4gICAgICAgICAgICBpc1JldmFsaWRhdGUsXG4gICAgICAgICAgICB3YWl0VW50aWw6IGN0eC53YWl0VW50aWwsXG4gICAgICAgICAgICBvbkNsb3NlOiAoY2IpPT57XG4gICAgICAgICAgICAgICAgcmVzLm9uKCdjbG9zZScsIGNiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkFmdGVyVGFza0Vycm9yOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBvbkluc3RydW1lbnRhdGlvblJlcXVlc3RFcnJvcjogKGVycm9yLCBfcmVxdWVzdCwgZXJyb3JDb250ZXh0KT0+cm91dGVNb2R1bGUub25SZXF1ZXN0RXJyb3IocmVxLCBlcnJvciwgZXJyb3JDb250ZXh0LCByb3V0ZXJTZXJ2ZXJDb250ZXh0KVxuICAgICAgICB9LFxuICAgICAgICBzaGFyZWRDb250ZXh0OiB7XG4gICAgICAgICAgICBidWlsZElkXG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG5vZGVOZXh0UmVxID0gbmV3IE5vZGVOZXh0UmVxdWVzdChyZXEpO1xuICAgIGNvbnN0IG5vZGVOZXh0UmVzID0gbmV3IE5vZGVOZXh0UmVzcG9uc2UocmVzKTtcbiAgICBjb25zdCBuZXh0UmVxID0gTmV4dFJlcXVlc3RBZGFwdGVyLmZyb21Ob2RlTmV4dFJlcXVlc3Qobm9kZU5leHRSZXEsIHNpZ25hbEZyb21Ob2RlUmVzcG9uc2UocmVzKSk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgaW52b2tlUm91dGVNb2R1bGUgPSBhc3luYyAoc3Bhbik9PntcbiAgICAgICAgICAgIHJldHVybiByb3V0ZU1vZHVsZS5oYW5kbGUobmV4dFJlcSwgY29udGV4dCkuZmluYWxseSgoKT0+e1xuICAgICAgICAgICAgICAgIGlmICghc3BhbikgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICdodHRwLnN0YXR1c19jb2RlJzogcmVzLnN0YXR1c0NvZGUsXG4gICAgICAgICAgICAgICAgICAgICduZXh0LnJzYyc6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm9vdFNwYW5BdHRyaWJ1dGVzID0gdHJhY2VyLmdldFJvb3RTcGFuQXR0cmlidXRlcygpO1xuICAgICAgICAgICAgICAgIC8vIFdlIHdlcmUgdW5hYmxlIHRvIGdldCBhdHRyaWJ1dGVzLCBwcm9iYWJseSBPVEVMIGlzIG5vdCBlbmFibGVkXG4gICAgICAgICAgICAgICAgaWYgKCFyb290U3BhbkF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocm9vdFNwYW5BdHRyaWJ1dGVzLmdldCgnbmV4dC5zcGFuX3R5cGUnKSAhPT0gQmFzZVNlcnZlclNwYW4uaGFuZGxlUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFVuZXhwZWN0ZWQgcm9vdCBzcGFuIHR5cGUgJyR7cm9vdFNwYW5BdHRyaWJ1dGVzLmdldCgnbmV4dC5zcGFuX3R5cGUnKX0nLiBQbGVhc2UgcmVwb3J0IHRoaXMgTmV4dC5qcyBpc3N1ZSBodHRwczovL2dpdGh1Yi5jb20vdmVyY2VsL25leHQuanNgKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByb3V0ZSA9IHJvb3RTcGFuQXR0cmlidXRlcy5nZXQoJ25leHQucm91dGUnKTtcbiAgICAgICAgICAgICAgICBpZiAocm91dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IGAke21ldGhvZH0gJHtyb3V0ZX1gO1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgJ25leHQucm91dGUnOiByb3V0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwLnJvdXRlJzogcm91dGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAnbmV4dC5zcGFuX25hbWUnOiBuYW1lXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnVwZGF0ZU5hbWUobmFtZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi51cGRhdGVOYW1lKGAke21ldGhvZH0gJHtyZXEudXJsfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBoYW5kbGVSZXNwb25zZSA9IGFzeW5jIChjdXJyZW50U3Bhbik9PntcbiAgICAgICAgICAgIHZhciBfY2FjaGVFbnRyeV92YWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlR2VuZXJhdG9yID0gYXN5bmMgKHsgcHJldmlvdXNDYWNoZUVudHJ5IH0pPT57XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFnZXRSZXF1ZXN0TWV0YShyZXEsICdtaW5pbWFsTW9kZScpICYmIGlzT25EZW1hbmRSZXZhbGlkYXRlICYmIHJldmFsaWRhdGVPbmx5R2VuZXJhdGVkICYmICFwcmV2aW91c0NhY2hlRW50cnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXNDb2RlID0gNDA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb24tZGVtYW5kIHJldmFsaWRhdGUgYWx3YXlzIHNldHMgdGhpcyBoZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ3gtbmV4dGpzLWNhY2hlJywgJ1JFVkFMSURBVEVEJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuZW5kKCdUaGlzIHBhZ2UgY291bGQgbm90IGJlIGZvdW5kJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGludm9rZVJvdXRlTW9kdWxlKGN1cnJlbnRTcGFuKTtcbiAgICAgICAgICAgICAgICAgICAgcmVxLmZldGNoTWV0cmljcyA9IGNvbnRleHQucmVuZGVyT3B0cy5mZXRjaE1ldHJpY3M7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwZW5kaW5nV2FpdFVudGlsID0gY29udGV4dC5yZW5kZXJPcHRzLnBlbmRpbmdXYWl0VW50aWw7XG4gICAgICAgICAgICAgICAgICAgIC8vIEF0dGVtcHQgdXNpbmcgcHJvdmlkZWQgd2FpdFVudGlsIGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBpdCdzIG5vdCB3ZSBmYWxsYmFjayB0byBzZW5kUmVzcG9uc2UncyBoYW5kbGluZ1xuICAgICAgICAgICAgICAgICAgICBpZiAocGVuZGluZ1dhaXRVbnRpbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN0eC53YWl0VW50aWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHgud2FpdFVudGlsKHBlbmRpbmdXYWl0VW50aWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmdXYWl0VW50aWwgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FjaGVUYWdzID0gY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZFRhZ3M7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSByZXF1ZXN0IGlzIGZvciBhIHN0YXRpYyByZXNwb25zZSwgd2UgY2FuIGNhY2hlIGl0IHNvIGxvbmdcbiAgICAgICAgICAgICAgICAgICAgLy8gYXMgaXQncyBub3QgZWRnZS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzSXNyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBibG9iID0gYXdhaXQgcmVzcG9uc2UuYmxvYigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29weSB0aGUgaGVhZGVycyBmcm9tIHRoZSByZXNwb25zZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRlcnMgPSB0b05vZGVPdXRnb2luZ0h0dHBIZWFkZXJzKHJlc3BvbnNlLmhlYWRlcnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhY2hlVGFncykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnNbTkVYVF9DQUNIRV9UQUdTX0hFQURFUl0gPSBjYWNoZVRhZ3M7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddICYmIGJsb2IudHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddID0gYmxvYi50eXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmV2YWxpZGF0ZSA9IHR5cGVvZiBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkUmV2YWxpZGF0ZSA9PT0gJ3VuZGVmaW5lZCcgfHwgY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZFJldmFsaWRhdGUgPj0gSU5GSU5JVEVfQ0FDSEUgPyBmYWxzZSA6IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRSZXZhbGlkYXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhwaXJlID0gdHlwZW9mIGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRFeHBpcmUgPT09ICd1bmRlZmluZWQnIHx8IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRFeHBpcmUgPj0gSU5GSU5JVEVfQ0FDSEUgPyB1bmRlZmluZWQgOiBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkRXhwaXJlO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBjYWNoZSBlbnRyeSBmb3IgdGhlIHJlc3BvbnNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FjaGVFbnRyeSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBraW5kOiBDYWNoZWRSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogQnVmZmVyLmZyb20oYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVDb250cm9sOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVFbnRyeTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNlbmQgcmVzcG9uc2Ugd2l0aG91dCBjYWNoaW5nIGlmIG5vdCBJU1JcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHNlbmRSZXNwb25zZShub2RlTmV4dFJlcSwgbm9kZU5leHRSZXMsIHJlc3BvbnNlLCBjb250ZXh0LnJlbmRlck9wdHMucGVuZGluZ1dhaXRVbnRpbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGlzIGlzIGEgYmFja2dyb3VuZCByZXZhbGlkYXRlIHdlIG5lZWQgdG8gcmVwb3J0XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSByZXF1ZXN0IGVycm9yIGhlcmUgYXMgaXQgd29uJ3QgYmUgYnViYmxlZFxuICAgICAgICAgICAgICAgICAgICBpZiAocHJldmlvdXNDYWNoZUVudHJ5ID09IG51bGwgPyB2b2lkIDAgOiBwcmV2aW91c0NhY2hlRW50cnkuaXNTdGFsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgcm91dGVNb2R1bGUub25SZXF1ZXN0RXJyb3IocmVxLCBlcnIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3V0ZXJLaW5kOiAnQXBwIFJvdXRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVQYXRoOiBzcmNQYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlVHlwZTogJ3JvdXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXZhbGlkYXRlUmVhc29uOiBnZXRSZXZhbGlkYXRlUmVhc29uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNSZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09uRGVtYW5kUmV2YWxpZGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCByb3V0ZXJTZXJ2ZXJDb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlRW50cnkgPSBhd2FpdCByb3V0ZU1vZHVsZS5oYW5kbGVSZXNwb25zZSh7XG4gICAgICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgICAgIG5leHRDb25maWcsXG4gICAgICAgICAgICAgICAgY2FjaGVLZXksXG4gICAgICAgICAgICAgICAgcm91dGVLaW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICAgICAgICAgIGlzRmFsbGJhY2s6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHByZXJlbmRlck1hbmlmZXN0LFxuICAgICAgICAgICAgICAgIGlzUm91dGVQUFJFbmFibGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpc09uRGVtYW5kUmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICByZXZhbGlkYXRlT25seUdlbmVyYXRlZCxcbiAgICAgICAgICAgICAgICByZXNwb25zZUdlbmVyYXRvcixcbiAgICAgICAgICAgICAgICB3YWl0VW50aWw6IGN0eC53YWl0VW50aWxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gd2UgZG9uJ3QgY3JlYXRlIGEgY2FjaGVFbnRyeSBmb3IgSVNSXG4gICAgICAgICAgICBpZiAoIWlzSXNyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKGNhY2hlRW50cnkgPT0gbnVsbCA/IHZvaWQgMCA6IChfY2FjaGVFbnRyeV92YWx1ZSA9IGNhY2hlRW50cnkudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfY2FjaGVFbnRyeV92YWx1ZS5raW5kKSAhPT0gQ2FjaGVkUm91dGVLaW5kLkFQUF9ST1VURSkge1xuICAgICAgICAgICAgICAgIHZhciBfY2FjaGVFbnRyeV92YWx1ZTE7XG4gICAgICAgICAgICAgICAgdGhyb3cgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ldyBFcnJvcihgSW52YXJpYW50OiBhcHAtcm91dGUgcmVjZWl2ZWQgaW52YWxpZCBjYWNoZSBlbnRyeSAke2NhY2hlRW50cnkgPT0gbnVsbCA/IHZvaWQgMCA6IChfY2FjaGVFbnRyeV92YWx1ZTEgPSBjYWNoZUVudHJ5LnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2NhY2hlRW50cnlfdmFsdWUxLmtpbmR9YCksIFwiX19ORVhUX0VSUk9SX0NPREVcIiwge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJFNzAxXCIsXG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZ2V0UmVxdWVzdE1ldGEocmVxLCAnbWluaW1hbE1vZGUnKSkge1xuICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ3gtbmV4dGpzLWNhY2hlJywgaXNPbkRlbWFuZFJldmFsaWRhdGUgPyAnUkVWQUxJREFURUQnIDogY2FjaGVFbnRyeS5pc01pc3MgPyAnTUlTUycgOiBjYWNoZUVudHJ5LmlzU3RhbGUgPyAnU1RBTEUnIDogJ0hJVCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRHJhZnQgbW9kZSBzaG91bGQgbmV2ZXIgYmUgY2FjaGVkXG4gICAgICAgICAgICBpZiAoaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgICAgICAgICByZXMuc2V0SGVhZGVyKCdDYWNoZS1Db250cm9sJywgJ3ByaXZhdGUsIG5vLWNhY2hlLCBuby1zdG9yZSwgbWF4LWFnZT0wLCBtdXN0LXJldmFsaWRhdGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGhlYWRlcnMgPSBmcm9tTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMoY2FjaGVFbnRyeS52YWx1ZS5oZWFkZXJzKTtcbiAgICAgICAgICAgIGlmICghKGdldFJlcXVlc3RNZXRhKHJlcSwgJ21pbmltYWxNb2RlJykgJiYgaXNJc3IpKSB7XG4gICAgICAgICAgICAgICAgaGVhZGVycy5kZWxldGUoTkVYVF9DQUNIRV9UQUdTX0hFQURFUik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiBjYWNoZSBjb250cm9sIGlzIGFscmVhZHkgc2V0IG9uIHRoZSByZXNwb25zZSB3ZSBkb24ndFxuICAgICAgICAgICAgLy8gb3ZlcnJpZGUgaXQgdG8gYWxsb3cgdXNlcnMgdG8gY3VzdG9taXplIGl0IHZpYSBuZXh0LmNvbmZpZ1xuICAgICAgICAgICAgaWYgKGNhY2hlRW50cnkuY2FjaGVDb250cm9sICYmICFyZXMuZ2V0SGVhZGVyKCdDYWNoZS1Db250cm9sJykgJiYgIWhlYWRlcnMuZ2V0KCdDYWNoZS1Db250cm9sJykpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzLnNldCgnQ2FjaGUtQ29udHJvbCcsIGdldENhY2hlQ29udHJvbEhlYWRlcihjYWNoZUVudHJ5LmNhY2hlQ29udHJvbCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgc2VuZFJlc3BvbnNlKG5vZGVOZXh0UmVxLCBub2RlTmV4dFJlcywgbmV3IFJlc3BvbnNlKGNhY2hlRW50cnkudmFsdWUuYm9keSwge1xuICAgICAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBjYWNoZUVudHJ5LnZhbHVlLnN0YXR1cyB8fCAyMDBcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9O1xuICAgICAgICAvLyBUT0RPOiBhY3RpdmVTcGFuIGNvZGUgcGF0aCBpcyBmb3Igd2hlbiB3cmFwcGVkIGJ5XG4gICAgICAgIC8vIG5leHQtc2VydmVyIGNhbiBiZSByZW1vdmVkIHdoZW4gdGhpcyBpcyBubyBsb25nZXIgdXNlZFxuICAgICAgICBpZiAoYWN0aXZlU3Bhbikge1xuICAgICAgICAgICAgYXdhaXQgaGFuZGxlUmVzcG9uc2UoYWN0aXZlU3Bhbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCB0cmFjZXIud2l0aFByb3BhZ2F0ZWRDb250ZXh0KHJlcS5oZWFkZXJzLCAoKT0+dHJhY2VyLnRyYWNlKEJhc2VTZXJ2ZXJTcGFuLmhhbmRsZVJlcXVlc3QsIHtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbk5hbWU6IGAke21ldGhvZH0gJHtyZXEudXJsfWAsXG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6IFNwYW5LaW5kLlNFUlZFUixcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2h0dHAubWV0aG9kJzogbWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2h0dHAudGFyZ2V0JzogcmVxLnVybFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgaGFuZGxlUmVzcG9uc2UpKTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBpZiAoIShlcnIgaW5zdGFuY2VvZiBOb0ZhbGxiYWNrRXJyb3IpKSB7XG4gICAgICAgICAgICBhd2FpdCByb3V0ZU1vZHVsZS5vblJlcXVlc3RFcnJvcihyZXEsIGVyciwge1xuICAgICAgICAgICAgICAgIHJvdXRlcktpbmQ6ICdBcHAgUm91dGVyJyxcbiAgICAgICAgICAgICAgICByb3V0ZVBhdGg6IG5vcm1hbGl6ZWRTcmNQYWdlLFxuICAgICAgICAgICAgICAgIHJvdXRlVHlwZTogJ3JvdXRlJyxcbiAgICAgICAgICAgICAgICByZXZhbGlkYXRlUmVhc29uOiBnZXRSZXZhbGlkYXRlUmVhc29uKHtcbiAgICAgICAgICAgICAgICAgICAgaXNSZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgICAgICBpc09uRGVtYW5kUmV2YWxpZGF0ZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZXRocm93IHNvIHRoYXQgd2UgY2FuIGhhbmRsZSBzZXJ2aW5nIGVycm9yIHBhZ2VcbiAgICAgICAgLy8gSWYgdGhpcyBpcyBkdXJpbmcgc3RhdGljIGdlbmVyYXRpb24sIHRocm93IHRoZSBlcnJvciBhZ2Fpbi5cbiAgICAgICAgaWYgKGlzSXNyKSB0aHJvdyBlcnI7XG4gICAgICAgIC8vIE90aGVyd2lzZSwgc2VuZCBhIDUwMCByZXNwb25zZS5cbiAgICAgICAgYXdhaXQgc2VuZFJlc3BvbnNlKG5vZGVOZXh0UmVxLCBub2RlTmV4dFJlcywgbmV3IFJlc3BvbnNlKG51bGwsIHtcbiAgICAgICAgICAgIHN0YXR1czogNTAwXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/next@15.5.4_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=%2Fhome%2Fshiva%2FDocuments%2Fromanian_danish_jobs%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fshiva%2FDocuments%2Fromanian_danish_jobs&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@15.5.4_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!*********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.5.4_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \*********************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/next@15.5.4_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!*********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.5.4_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \*********************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/server/app-render/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/action-async-storage.external.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "./work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "next/dist/shared/lib/no-fallback-error.external":
/*!******************************************************************!*\
  !*** external "next/dist/shared/lib/no-fallback-error.external" ***!
  \******************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/no-fallback-error.external");

/***/ }),

/***/ "next/dist/shared/lib/router/utils/app-paths":
/*!**************************************************************!*\
  !*** external "next/dist/shared/lib/router/utils/app-paths" ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/app-paths");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@15.5.4_react-dom@19.1.1_react@19.1.1__react@19.1.1"], () => (__webpack_exec__("(rsc)/./node_modules/.pnpm/next@15.5.4_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=%2Fhome%2Fshiva%2FDocuments%2Fromanian_danish_jobs%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fshiva%2FDocuments%2Fromanian_danish_jobs&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!")));
module.exports = __webpack_exports__;

})();